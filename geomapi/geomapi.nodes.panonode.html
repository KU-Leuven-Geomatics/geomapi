



<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>geomapi.nodes.panonode &mdash; Geomapi 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
      <link rel="stylesheet" href="../_static/style.css" type="text/css" />

  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=8d563738"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="geomapi.nodes.pointcloudnode" href="geomapi.nodes.pointcloudnode.html" />
    <link rel="prev" title="geomapi.nodes.orthonode" href="geomapi.nodes.orthonode.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/geomapi_logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Information:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../information/getting%20started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../information/nodes.html">Nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../information/ontology.html">Ontology</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorial:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/tutorial_nodes.html">Node</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/tutorial_meshnodes.html">MeshNode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/tutorial_pointcloudnodes.html">PointCloudNode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/tutorial_bimnodes.html">BIMNode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/tutorial_linesetnodes.html">LineSetNode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/tutorial_imagenodes.html">ImageNode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/tutorial_orthonodes.html">OrthoNode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/tutorial_panonodes.html">PanoNode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/tutorial_setnodes.html">SetNode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/tutorial_node_selection.html">Node selection</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Test Cases:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../testcases/alignmenttools.html">Alignment Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testcases/combinationtools.html">Combination Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testcases/site_progress.html">Construction site progress</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testcases/validationtools.html">Validation Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testcases/volume_calculation.html">Volume calculation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="geomapi.nodes.html">geomapi.nodes</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="geomapi.nodes.bimnode.html">geomapi.nodes.bimnode</a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.nodes.imagenode.html">geomapi.nodes.imagenode</a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.nodes.linesetnode.html">geomapi.nodes.linesetnode</a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.nodes.meshnode.html">geomapi.nodes.meshnode</a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.nodes.node.html">geomapi.nodes.node</a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.nodes.orthonode.html">geomapi.nodes.orthonode</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">geomapi.nodes.panonode</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.nodes.panonode.PanoNode"><code class="docutils literal notranslate"><span class="pre">PanoNode</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#geomapi.nodes.panonode.PanoNode.__init__"><code class="docutils literal notranslate"><span class="pre">PanoNode.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#geomapi.nodes.panonode.PanoNode.jsonPath"><code class="docutils literal notranslate"><span class="pre">PanoNode.jsonPath</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#geomapi.nodes.panonode.PanoNode.imageWidth"><code class="docutils literal notranslate"><span class="pre">PanoNode.imageWidth</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#geomapi.nodes.panonode.PanoNode.imageHeight"><code class="docutils literal notranslate"><span class="pre">PanoNode.imageHeight</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#geomapi.nodes.panonode.PanoNode.depth"><code class="docutils literal notranslate"><span class="pre">PanoNode.depth</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#geomapi.nodes.panonode.PanoNode.resource"><code class="docutils literal notranslate"><span class="pre">PanoNode.resource</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#geomapi.nodes.panonode.PanoNode.load_resource"><code class="docutils literal notranslate"><span class="pre">PanoNode.load_resource()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#geomapi.nodes.panonode.PanoNode.save_resource"><code class="docutils literal notranslate"><span class="pre">PanoNode.save_resource()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#geomapi.nodes.panonode.PanoNode.get_metadata_from_exif_data"><code class="docutils literal notranslate"><span class="pre">PanoNode.get_metadata_from_exif_data()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#geomapi.nodes.panonode.PanoNode.get_metadata_from_json_path"><code class="docutils literal notranslate"><span class="pre">PanoNode.get_metadata_from_json_path()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#geomapi.nodes.panonode.PanoNode.create_rays"><code class="docutils literal notranslate"><span class="pre">PanoNode.create_rays()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#geomapi.nodes.panonode.PanoNode.world_to_pixel_coordinates"><code class="docutils literal notranslate"><span class="pre">PanoNode.world_to_pixel_coordinates()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#geomapi.nodes.panonode.PanoNode.pixel_to_world_coordinates"><code class="docutils literal notranslate"><span class="pre">PanoNode.pixel_to_world_coordinates()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#geomapi.nodes.panonode.PanoNode.project_lineset_on_image"><code class="docutils literal notranslate"><span class="pre">PanoNode.project_lineset_on_image()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#geomapi.nodes.panonode.PanoNode.show"><code class="docutils literal notranslate"><span class="pre">PanoNode.show()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.nodes.pointcloudnode.html">geomapi.nodes.pointcloudnode</a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.nodes.setnode.html">geomapi.nodes.setnode</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="geomapi.utils.html">geomapi.utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="geomapi.tools.html">geomapi.tools</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../development/environment%20creation.html">User environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/environment%20creation.html#developer-environment">Developer environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/packaging.html">Packaging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/ontology%20creation.html">Ontology Creation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/testcase%20creation.html">Testcase Creation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contribution</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../team/team.html">Team</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Geomapi</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="geomapi.nodes.html">geomapi.nodes</a></li>
      <li class="breadcrumb-item active">geomapi.nodes.panonode</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/geomapi/geomapi.nodes.panonode.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-geomapi.nodes.panonode">
<span id="geomapi-nodes-panonode"></span><h1>geomapi.nodes.panonode<a class="headerlink" href="#module-geomapi.nodes.panonode" title="Link to this heading"></a></h1>
<p><strong>PanoNode</strong> is a Python Class to govern the data and metadata of panoramic image data.</p>
<p>This node builds upon the [OpenCV](<a class="reference external" href="https://opencv.org/">https://opencv.org/</a>), [Open3D](<a class="reference external" href="https://www.open3d.org/">https://www.open3d.org/</a>) and [PIL](<a class="reference external" href="https://pillow.readthedocs.io/en/stable/">https://pillow.readthedocs.io/en/stable/</a>) API for the image definitions.
Be sure to check the properties defined in those abstract classes to initialise the Node.</p>
<img alt="../_images/graph_img_1.png" src="../_images/graph_img_1.png" />
<p><strong>IMPORTANT</strong>: This Node class is designed to manage geolocated imagery. It works best when the heading is known. The class can be used to generate virtual images, raycasting, and other geometric operations.</p>
<dl class="py class">
<dt class="sig sig-object py" id="geomapi.nodes.panonode.PanoNode">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">geomapi.nodes.panonode.</span></span><span class="sig-name descname"><span class="pre">PanoNode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subject</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">URIRef</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">graph</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Graph</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">graphPath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timestamp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resource</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cartesianTransform</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orientedBoundingBox</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">open3d.geometry.OrientedBoundingBox</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convexHull</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">open3d.geometry.TriangleMesh</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loadResource</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jsonPath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">imageWidth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">imageHeight</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geomapi.nodes.panonode.PanoNode" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="geomapi.nodes.node.html#geomapi.nodes.node.Node" title="geomapi.nodes.node.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="geomapi.nodes.panonode.PanoNode.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subject</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">URIRef</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">graph</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Graph</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">graphPath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timestamp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resource</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cartesianTransform</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orientedBoundingBox</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">open3d.geometry.OrientedBoundingBox</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convexHull</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">open3d.geometry.TriangleMesh</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loadResource</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jsonPath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">imageWidth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">imageHeight</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geomapi.nodes.panonode.PanoNode.__init__" title="Link to this definition"></a></dt>
<dd><p>Creates an PanoNode. Overloaded function.</p>
<p>This Node can be initialised from one or more of the inputs below.
By default, no data is imported in the Node to speed up processing.
If you also want the data, call node.get_resource() or set getResource() to</p>
<dl class="simple">
<dt>Args:</dt><dd><ul class="simple">
<li><p>subject (RDFlib URIRef) : subject to be used as the main identifier in the RDF Graph</p></li>
<li><p>graph (RDFlib Graph) : Graph with a single subject (if multiple subjects are present, only the first will be used to initialise the Node)</p></li>
<li><p>graphPath (Path) :  Graph file path with a single subject (if multiple subjects are present, only the first will be used to initialise the Node)</p></li>
<li><p>path (Path) : Path to an image .jpg, jpeg, .png file (data is not automatically loaded)</p></li>
<li><p>resource (ndarray, PIL, Open3D) : Image data from [Open3D](<a class="reference external" href="https://www.open3d.org/">https://www.open3d.org/</a>), [OpenCV](<a class="reference external" href="https://opencv.org/">https://opencv.org/</a>) or [PIL](<a class="reference external" href="https://pillow.readthedocs.io/en/stable/">https://pillow.readthedocs.io/en/stable/</a>).</p></li>
<li><p>getResource (bool, optional= False) : If True, the node will search for its physical resource on drive. In this case, that includes the image and the depthmap. Defaults to False</p></li>
<li><p>imageWidth (int, optional) : Width of the image in pixels (u).</p></li>
<li><p>imageHeight (int, optional) : Height of the image in pixels (v).</p></li>
<li><p>depthMap (np.array, optional) : The depthmap of the image. Defaults to None</p></li>
<li><p>depthPath (Path, optional) : Path to the depthmap of the image. Defaults to None</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><p>ImageNode : An ImageNode with metadata</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="geomapi.nodes.panonode.PanoNode.jsonPath">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">jsonPath</span></span><a class="headerlink" href="#geomapi.nodes.panonode.PanoNode.jsonPath" title="Link to this definition"></a></dt>
<dd><p>Get the jsonPath (Path) of the node.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="geomapi.nodes.panonode.PanoNode.imageWidth">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">imageWidth</span></span><a class="headerlink" href="#geomapi.nodes.panonode.PanoNode.imageWidth" title="Link to this definition"></a></dt>
<dd><p>Get the imageWidth (int) or number of columns of the resource of the node.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="geomapi.nodes.panonode.PanoNode.imageHeight">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">imageHeight</span></span><a class="headerlink" href="#geomapi.nodes.panonode.PanoNode.imageHeight" title="Link to this definition"></a></dt>
<dd><p>Get the imageHeight (int) or number of rows of the resource of the node.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="geomapi.nodes.panonode.PanoNode.depth">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">depth</span></span><a class="headerlink" href="#geomapi.nodes.panonode.PanoNode.depth" title="Link to this definition"></a></dt>
<dd><p>Get the maximum depth of the image, defaults to one</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="geomapi.nodes.panonode.PanoNode.resource">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">resource</span></span><a class="headerlink" href="#geomapi.nodes.panonode.PanoNode.resource" title="Link to this definition"></a></dt>
<dd><p>The resource (mesh, image, etc.) of the node. If no resource is present, you can use <cite>get_resource()</cite>, to load the resource from a path or search it through the name and graphpath.</p>
<dl class="simple">
<dt>Inputs:</dt><dd><ul class="simple">
<li><p>self.path</p></li>
<li><p>self.name</p></li>
<li><p>self.graphPath</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="geomapi.nodes.panonode.PanoNode.load_resource">
<span class="sig-name descname"><span class="pre">load_resource</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="headerlink" href="#geomapi.nodes.panonode.PanoNode.load_resource" title="Link to this definition"></a></dt>
<dd><p>Loads the resource from the path</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>np.ndarray or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="geomapi.nodes.panonode.PanoNode.save_resource">
<span class="sig-name descname"><span class="pre">save_resource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'.jpg'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#geomapi.nodes.panonode.PanoNode.save_resource" title="Link to this definition"></a></dt>
<dd><p>Export the resource of the Node.</p>
<dl class="simple">
<dt>Args:</dt><dd><ul class="simple">
<li><p>directory (str, optional) : directory folder to store the data.</p></li>
<li><p>extension (str, optional) : file extension. Defaults to ‘.jpg’.</p></li>
</ul>
</dd>
<dt>Raises:</dt><dd><p>ValueError: Unsuitable extension. Please check permitted extension types in utils._init_.</p>
</dd>
<dt>Returns:</dt><dd><p>bool: return True if export was succesfull</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="geomapi.nodes.panonode.PanoNode.get_metadata_from_exif_data">
<span class="sig-name descname"><span class="pre">get_metadata_from_exif_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#geomapi.nodes.panonode.PanoNode.get_metadata_from_exif_data" title="Link to this definition"></a></dt>
<dd><p>Returns the metadata from a resource.</p>
<dl class="simple">
<dt>Args:</dt><dd><ul class="simple">
<li><p>GPSInfo (geospatialTransform (np.array(3,1))</p></li>
<li><p>coordinateSystem (str)</p></li>
<li><p>DateTime (‘%Y-%m-%dT%H:%M:%S’)</p></li>
<li><p>XResolution (int)</p></li>
<li><p>YResolution (int)</p></li>
<li><p>ResolutionUnit (int)</p></li>
<li><p>ExifImageWidth (int)</p></li>
<li><p>ExifImageHeight (int)</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>bool: True if meta data is successfully parsed</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="geomapi.nodes.panonode.PanoNode.get_metadata_from_json_path">
<span class="sig-name descname"><span class="pre">get_metadata_from_json_path</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#geomapi.nodes.panonode.PanoNode.get_metadata_from_json_path" title="Link to this definition"></a></dt>
<dd><p>Read Metadata from Navvis json.</p>
<dl class="simple">
<dt>Args:</dt><dd><ul class="simple">
<li><p>geospatialTransform (np.array(3x1))</p></li>
<li><p>coordinateSystem (str)</p></li>
<li><p>focalLength35mm (float)</p></li>
<li><p>principalPointU (float)</p></li>
<li><p>principalPointV (float)</p></li>
<li><p>cartesianTransform (np.array(4x4))</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>bool: True if metadata is sucesfully parsed</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="geomapi.nodes.panonode.PanoNode.create_rays">
<span class="sig-name descname"><span class="pre">create_rays</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">imagePoints</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">array</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">array</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">open3d.core.Tensor</span></span></span><a class="headerlink" href="#geomapi.nodes.panonode.PanoNode.create_rays" title="Link to this definition"></a></dt>
<dd><p>Generate a grid a rays from the camera location to a given set of imagePoints.</p>
<p><strong>NOTE</strong>: This function targets a subselection of imagePoints, use o3d.t.geometry.RaycastingScene.create_rays_pinhole if you want a dense raytracing for the full image.</p>
<img alt="../_images/Raycasting_1.PNG" src="../_images/Raycasting_1.PNG" />
<dl class="simple">
<dt>Args:</dt><dd><ul class="simple">
<li><p>imagePoints (np.array[n,2]) : imagePoints are conform (row, column) image coordinates system. so top left is (0,0). The camera intrinsic matrix is used to map it to the proper image coordinates. Defaults to np.array([[0, 0],[0, self._imageWidth],[self._imageHeight, 0],[self._imageHeight, self._imageWidth]]).</p></li>
<li><p>depths (np.array[n,1], optional) : depths of the rays. Defaults to 50m for each point.</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><p>rays: o3d.core.Tensor (n,6) [:,0:3] with the camera center and [:,3:6] are the directions of the rays towards the imagePoints.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="geomapi.nodes.panonode.PanoNode.world_to_pixel_coordinates">
<span class="sig-name descname"><span class="pre">world_to_pixel_coordinates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">worldCoordinates</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="headerlink" href="#geomapi.nodes.panonode.PanoNode.world_to_pixel_coordinates" title="Link to this definition"></a></dt>
<dd><p>Project 3D world coordinates to panoramic (equirectangular) image coordinates.</p>
<dl class="simple">
<dt>Args:</dt><dd><ul class="simple">
<li><p>worldCoords (np.ndarray): The world coordinates (n, 3) as an Nx3 numpy array (X, Y, Z).</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>panoramicCoords (np.ndarray): The corresponding panoramic coordinates (n, 2) in (u, v) format (row,column).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="geomapi.nodes.panonode.PanoNode.pixel_to_world_coordinates">
<span class="sig-name descname"><span class="pre">pixel_to_world_coordinates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pixels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">array</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="headerlink" href="#geomapi.nodes.panonode.PanoNode.pixel_to_world_coordinates" title="Link to this definition"></a></dt>
<dd><p>Converts pixel coordinates in an panoramic image to 3D world coordinates.</p>
<p>This function takes pixel coordinates and optional depths and converts them to 3D world coordinates. The function assumes that the camera is at the origin and the image is projected onto a unit sphere.</p>
<dl class="simple">
<dt>Args:</dt><dd><ul class="simple">
<li><p>pixels (np.ndarray) : Pixel coordinates (n, 2) in the image (row, column).</p></li>
<li><p>depths (np.ndarray, optional) : Depths (n, 1) for the corresponding pixel coordinates. Defaults to 50m for each point.</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>worldCoordinates (np.ndarray): A 2D array (n, 3) containing the 3D world coordinates (X, Y, Z).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="geomapi.nodes.panonode.PanoNode.project_lineset_on_image">
<span class="sig-name descname"><span class="pre">project_lineset_on_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">linesets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">open3d.geometry.LineSet</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thickness</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="headerlink" href="#geomapi.nodes.panonode.PanoNode.project_lineset_on_image" title="Link to this definition"></a></dt>
<dd><p>Project Opend3D linesets onto the resource of the node.</p>
<p><strong>NOTE</strong>: WORK IN PROGRESS</p>
<p><strong>NOTE</strong>: this affects the original image if overwrite is True.</p>
<img alt="../_images/image_projection_1.png" src="../_images/image_projection_1.png" />
<dl class="simple">
<dt>Args:</dt><dd><ul class="simple">
<li><p>linesets (List[o3d.LineSet]): List of linesets. Note that the color of the lines is stored in the lineset.</p></li>
<li><p>thickness (int) : Thickness of the projected lines</p></li>
<li><p>overwrite (bool) : If True, the original image is overwritten. If False, a new image is created.</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><p>resource : The resource of the ImageNode with the projected lines.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="geomapi.nodes.panonode.PanoNode.show">
<span class="sig-name descname"><span class="pre">show</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">convertColorspace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subsample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geomapi.nodes.panonode.PanoNode.show" title="Link to this definition"></a></dt>
<dd><p>Creates a visualization of the resource (if loaded)</p>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="geomapi.nodes.orthonode.html" class="btn btn-neutral float-left" title="geomapi.nodes.orthonode" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="geomapi.nodes.pointcloudnode.html" class="btn btn-neutral float-right" title="geomapi.nodes.pointcloudnode" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Bassier M., De Geyter S., De Winter H., Vermandere J. @ Geomatics KU Leuven.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>