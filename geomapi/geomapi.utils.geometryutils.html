



<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>geomapi.utils.geometryutils &mdash; Geomapi 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
      <link rel="stylesheet" href="../_static/style.css" type="text/css" />

  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=8d563738"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="geomapi.utils.geospatialutils" href="geomapi.utils.geospatialutils.html" />
    <link rel="prev" title="geomapi.utils.cadutils" href="geomapi.utils.cadutils.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/geomapi_logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Information:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../information/getting%20started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../information/nodes.html">Nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../information/ontology.html">Ontology</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorial:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/tutorial_nodes.html">Node</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/tutorial_meshnodes.html">MeshNode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/tutorial_pointcloudnodes.html">PointCloudNode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/tutorial_bimnodes.html">BIMNode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/tutorial_linesetnodes.html">LineSetNode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/tutorial_imagenodes.html">ImageNode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/tutorial_orthonodes.html">OrthoNode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/tutorial_panonodes.html">PanoNode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/tutorial_setnodes.html">SetNode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/tutorial_node_selection.html">Node selection</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Test Cases:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../testcases/alignmenttools.html">Alignment Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testcases/combinationtools.html">Combination Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testcases/site_progress.html">Construction site progress</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testcases/validationtools.html">Validation Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testcases/volume_calculation.html">Volume calculation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="geomapi.nodes.html">geomapi.nodes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="geomapi.utils.html">geomapi.utils</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.cadutils.html">geomapi.utils.cadutils</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">geomapi.utils.geometryutils</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.array_to_colors"><code class="docutils literal notranslate"><span class="pre">array_to_colors()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.array_subsample"><code class="docutils literal notranslate"><span class="pre">array_subsample()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.arrays_to_mesh"><code class="docutils literal notranslate"><span class="pre">arrays_to_mesh()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.box_to_mesh"><code class="docutils literal notranslate"><span class="pre">box_to_mesh()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.color_by_intensity"><code class="docutils literal notranslate"><span class="pre">color_by_intensity()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.compute_nearest_neighbors"><code class="docutils literal notranslate"><span class="pre">compute_nearest_neighbors()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.compute_raycasting_collisions"><code class="docutils literal notranslate"><span class="pre">compute_raycasting_collisions()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.convert_to_homogeneous_3d_coordinates"><code class="docutils literal notranslate"><span class="pre">convert_to_homogeneous_3d_coordinates()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.create_camera_frustum_mesh"><code class="docutils literal notranslate"><span class="pre">create_camera_frustum_mesh()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.create_camera_frustum_mesh_with_image"><code class="docutils literal notranslate"><span class="pre">create_camera_frustum_mesh_with_image()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.create_ellipsoid_mesh"><code class="docutils literal notranslate"><span class="pre">create_ellipsoid_mesh()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.create_identity_point_cloud"><code class="docutils literal notranslate"><span class="pre">create_identity_point_cloud()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.create_obb_from_orthophoto"><code class="docutils literal notranslate"><span class="pre">create_obb_from_orthophoto()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.create_transform_from_pyramid_points"><code class="docutils literal notranslate"><span class="pre">create_transform_from_pyramid_points()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.create_xyz_grid"><code class="docutils literal notranslate"><span class="pre">create_xyz_grid()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.crop_dataframe_from_meshes"><code class="docutils literal notranslate"><span class="pre">crop_dataframe_from_meshes()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.crop_geometry_by_box"><code class="docutils literal notranslate"><span class="pre">crop_geometry_by_box()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.crop_geometry_by_distance"><code class="docutils literal notranslate"><span class="pre">crop_geometry_by_distance()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.crop_geometry_by_raycasting"><code class="docutils literal notranslate"><span class="pre">crop_geometry_by_raycasting()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.crop_mesh_by_convex_hull"><code class="docutils literal notranslate"><span class="pre">crop_mesh_by_convex_hull()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.crop_point_cloud_from_meshes"><code class="docutils literal notranslate"><span class="pre">crop_point_cloud_from_meshes()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.dataframe_to_las"><code class="docutils literal notranslate"><span class="pre">dataframe_to_las()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.dataframe_to_pcd"><code class="docutils literal notranslate"><span class="pre">dataframe_to_pcd()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.describe_element"><code class="docutils literal notranslate"><span class="pre">describe_element()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.divide_box_in_boxes"><code class="docutils literal notranslate"><span class="pre">divide_box_in_boxes()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.divide_pcd_per_height"><code class="docutils literal notranslate"><span class="pre">divide_pcd_per_height()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.e57_to_arrays"><code class="docutils literal notranslate"><span class="pre">e57_to_arrays()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.e57_to_pcd"><code class="docutils literal notranslate"><span class="pre">e57_to_pcd()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.get_e57_from_pcd"><code class="docutils literal notranslate"><span class="pre">get_e57_from_pcd()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.e57_array_to_pcd"><code class="docutils literal notranslate"><span class="pre">e57_array_to_pcd()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.e57_dict_to_pcd"><code class="docutils literal notranslate"><span class="pre">e57_dict_to_pcd()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.e57_fix_rotation_order"><code class="docutils literal notranslate"><span class="pre">e57_fix_rotation_order()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.e57_get_cartesian_transform"><code class="docutils literal notranslate"><span class="pre">e57_get_cartesian_transform()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.e57_get_colors"><code class="docutils literal notranslate"><span class="pre">e57_get_colors()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.e57_get_normals"><code class="docutils literal notranslate"><span class="pre">e57_get_normals()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.e57_get_xyz_from_raw_data"><code class="docutils literal notranslate"><span class="pre">e57_get_xyz_from_raw_data()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.e57_get_xyz_from_spherical_raw_data"><code class="docutils literal notranslate"><span class="pre">e57_get_xyz_from_spherical_raw_data()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.e57_update_point_field"><code class="docutils literal notranslate"><span class="pre">e57_update_point_field()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.e57path_to_pcd"><code class="docutils literal notranslate"><span class="pre">e57path_to_pcd()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.e57path_to_pcds_multiprocessing"><code class="docutils literal notranslate"><span class="pre">e57path_to_pcds_multiprocessing()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.expand_box"><code class="docutils literal notranslate"><span class="pre">expand_box()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.extract_points"><code class="docutils literal notranslate"><span class="pre">extract_points()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.generate_virtual_images"><code class="docutils literal notranslate"><span class="pre">generate_virtual_images()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.get_backface_center_transform"><code class="docutils literal notranslate"><span class="pre">get_backface_center_transform()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.get_box_inliers"><code class="docutils literal notranslate"><span class="pre">get_box_inliers()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.get_box_intersections"><code class="docutils literal notranslate"><span class="pre">get_box_intersections()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.get_cartesian_bounds"><code class="docutils literal notranslate"><span class="pre">get_cartesian_bounds()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.get_cartesian_transform"><code class="docutils literal notranslate"><span class="pre">get_cartesian_transform()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.get_convex_hull"><code class="docutils literal notranslate"><span class="pre">get_convex_hull()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.get_geometry_from_path"><code class="docutils literal notranslate"><span class="pre">get_geometry_from_path()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.get_mesh_collisions_trimesh"><code class="docutils literal notranslate"><span class="pre">get_mesh_collisions_trimesh()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.get_mesh_inliers"><code class="docutils literal notranslate"><span class="pre">get_mesh_inliers()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.get_oriented_bounding_box"><code class="docutils literal notranslate"><span class="pre">get_oriented_bounding_box()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.get_oriented_bounding_box_parameters"><code class="docutils literal notranslate"><span class="pre">get_oriented_bounding_box_parameters()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.get_oriented_bounds"><code class="docutils literal notranslate"><span class="pre">get_oriented_bounds()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.get_pcd_collisions"><code class="docutils literal notranslate"><span class="pre">get_pcd_collisions()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.get_pcd_from_depth_map"><code class="docutils literal notranslate"><span class="pre">get_pcd_from_depth_map()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.get_points_and_normals"><code class="docutils literal notranslate"><span class="pre">get_points_and_normals()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.get_rotation_matrix_from_forward_up"><code class="docutils literal notranslate"><span class="pre">get_rotation_matrix_from_forward_up()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.get_rotation_matrix"><code class="docutils literal notranslate"><span class="pre">get_rotation_matrix()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.get_translation"><code class="docutils literal notranslate"><span class="pre">get_translation()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.get_triangles_center"><code class="docutils literal notranslate"><span class="pre">get_triangles_center()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.ifc_to_mesh"><code class="docutils literal notranslate"><span class="pre">ifc_to_mesh()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.ifc_get_materials"><code class="docutils literal notranslate"><span class="pre">ifc_get_materials()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.img_to_arrays"><code class="docutils literal notranslate"><span class="pre">img_to_arrays()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.join_geometries"><code class="docutils literal notranslate"><span class="pre">join_geometries()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.las_to_pcd"><code class="docutils literal notranslate"><span class="pre">las_to_pcd()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.las_add_extra_dimensions"><code class="docutils literal notranslate"><span class="pre">las_add_extra_dimensions()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.las_get_data"><code class="docutils literal notranslate"><span class="pre">las_get_data()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.las_get_normals"><code class="docutils literal notranslate"><span class="pre">las_get_normals()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.las_subsample"><code class="docutils literal notranslate"><span class="pre">las_subsample()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.mesh_to_arrays"><code class="docutils literal notranslate"><span class="pre">mesh_to_arrays()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.create_visible_point_cloud_from_meshes"><code class="docutils literal notranslate"><span class="pre">create_visible_point_cloud_from_meshes()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.mesh_to_trimesh"><code class="docutils literal notranslate"><span class="pre">mesh_to_trimesh()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.mesh_get_lineset"><code class="docutils literal notranslate"><span class="pre">mesh_get_lineset()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.normalize_vectors"><code class="docutils literal notranslate"><span class="pre">normalize_vectors()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.octree_to_voxelmesh"><code class="docutils literal notranslate"><span class="pre">octree_to_voxelmesh()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.pcd_to_arrays"><code class="docutils literal notranslate"><span class="pre">pcd_to_arrays()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.pcd_to_las"><code class="docutils literal notranslate"><span class="pre">pcd_to_las()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.pcd_to_voxelmesh"><code class="docutils literal notranslate"><span class="pre">pcd_to_voxelmesh()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.pcd_get_normals"><code class="docutils literal notranslate"><span class="pre">pcd_get_normals()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.preprocess_points_for_geometry"><code class="docutils literal notranslate"><span class="pre">preprocess_points_for_geometry()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.project_meshes_to_rgbd_images"><code class="docutils literal notranslate"><span class="pre">project_meshes_to_rgbd_images()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.rays_to_lineset"><code class="docutils literal notranslate"><span class="pre">rays_to_lineset()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.rays_to_points"><code class="docutils literal notranslate"><span class="pre">rays_to_points()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.sample_geometry"><code class="docutils literal notranslate"><span class="pre">sample_geometry()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.save_dataframe_as_ply"><code class="docutils literal notranslate"><span class="pre">save_dataframe_as_ply()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.save_view_point"><code class="docutils literal notranslate"><span class="pre">save_view_point()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.segment_pcd_by_connected_component"><code class="docutils literal notranslate"><span class="pre">segment_pcd_by_connected_component()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.show_geometries"><code class="docutils literal notranslate"><span class="pre">show_geometries()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.split_pcd_by_labels"><code class="docutils literal notranslate"><span class="pre">split_pcd_by_labels()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.split_quad_faces"><code class="docutils literal notranslate"><span class="pre">split_quad_faces()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.transform_dataframe"><code class="docutils literal notranslate"><span class="pre">transform_dataframe()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.transform_points"><code class="docutils literal notranslate"><span class="pre">transform_points()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geomapi.utils.geometryutils.voxelgrid_to_mesh"><code class="docutils literal notranslate"><span class="pre">voxelgrid_to_mesh()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.geospatialutils.html">geomapi.utils.geospatialutils</a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.imageutils.html">geomapi.utils.imageutils</a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.time_function"><code class="docutils literal notranslate"><span class="pre">time_function()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.get_timestamp"><code class="docutils literal notranslate"><span class="pre">get_timestamp()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.get_random_color"><code class="docutils literal notranslate"><span class="pre">get_random_color()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.map_to_2d_array"><code class="docutils literal notranslate"><span class="pre">map_to_2d_array()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.item_to_list"><code class="docutils literal notranslate"><span class="pre">item_to_list()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.split_list"><code class="docutils literal notranslate"><span class="pre">split_list()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.replace_str_index"><code class="docutils literal notranslate"><span class="pre">replace_str_index()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.get_list_of_files"><code class="docutils literal notranslate"><span class="pre">get_list_of_files()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.get_geomapi_classes"><code class="docutils literal notranslate"><span class="pre">get_geomapi_classes()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.get_method_for_datatype"><code class="docutils literal notranslate"><span class="pre">get_method_for_datatype()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.apply_method_to_object"><code class="docutils literal notranslate"><span class="pre">apply_method_to_object()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.get_subject_name"><code class="docutils literal notranslate"><span class="pre">get_subject_name()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.get_subject_graph"><code class="docutils literal notranslate"><span class="pre">get_subject_graph()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.get_attribute_from_predicate"><code class="docutils literal notranslate"><span class="pre">get_attribute_from_predicate()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.literal_to_number"><code class="docutils literal notranslate"><span class="pre">literal_to_number()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.literal_to_string"><code class="docutils literal notranslate"><span class="pre">literal_to_string()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.literal_to_int"><code class="docutils literal notranslate"><span class="pre">literal_to_int()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.literal_to_float"><code class="docutils literal notranslate"><span class="pre">literal_to_float()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.literal_to_list"><code class="docutils literal notranslate"><span class="pre">literal_to_list()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.literal_to_matrix"><code class="docutils literal notranslate"><span class="pre">literal_to_matrix()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.literal_to_datetime"><code class="docutils literal notranslate"><span class="pre">literal_to_datetime()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.xml_to_float"><code class="docutils literal notranslate"><span class="pre">xml_to_float()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.xcr_to_lat"><code class="docutils literal notranslate"><span class="pre">xcr_to_lat()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.xcr_to_long"><code class="docutils literal notranslate"><span class="pre">xcr_to_long()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.xcr_to_alt"><code class="docutils literal notranslate"><span class="pre">xcr_to_alt()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.validate_string"><code class="docutils literal notranslate"><span class="pre">validate_string()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.validate_uri"><code class="docutils literal notranslate"><span class="pre">validate_uri()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.validate_path"><code class="docutils literal notranslate"><span class="pre">validate_path()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.check_if_subject_is_in_graph"><code class="docutils literal notranslate"><span class="pre">check_if_subject_is_in_graph()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.get_graph_intersection"><code class="docutils literal notranslate"><span class="pre">get_graph_intersection()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.bind_ontologies"><code class="docutils literal notranslate"><span class="pre">bind_ontologies()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.get_node_resource_extensions"><code class="docutils literal notranslate"><span class="pre">get_node_resource_extensions()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.get_node_type"><code class="docutils literal notranslate"><span class="pre">get_node_type()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.get_data_type"><code class="docutils literal notranslate"><span class="pre">get_data_type()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.get_geomapi_data_types"><code class="docutils literal notranslate"><span class="pre">get_geomapi_data_types()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.get_ifcowl_uri"><code class="docutils literal notranslate"><span class="pre">get_ifcowl_uri()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.get_ifcopenshell_class_name"><code class="docutils literal notranslate"><span class="pre">get_ifcopenshell_class_name()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.get_predicate_and_datatype"><code class="docutils literal notranslate"><span class="pre">get_predicate_and_datatype()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.get_relative_path"><code class="docutils literal notranslate"><span class="pre">get_relative_path()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="geomapi.utils.html#geomapi.utils.rdf_property"><code class="docutils literal notranslate"><span class="pre">rdf_property()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="geomapi.tools.html">geomapi.tools</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../development/environment%20creation.html">User environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/environment%20creation.html#developer-environment">Developer environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/packaging.html">Packaging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/ontology%20creation.html">Ontology Creation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/testcase%20creation.html">Testcase Creation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contribution</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../team/team.html">Team</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Geomapi</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="geomapi.utils.html">geomapi.utils</a></li>
      <li class="breadcrumb-item active">geomapi.utils.geometryutils</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/geomapi/geomapi.utils.geometryutils.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-geomapi.utils.geometryutils">
<span id="geomapi-utils-geometryutils"></span><h1>geomapi.utils.geometryutils<a class="headerlink" href="#module-geomapi.utils.geometryutils" title="Link to this heading"></a></h1>
<p>Geometryutils - a Python library for processing mesh and point cloud data.</p>
<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.array_to_colors">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">array_to_colors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">array</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">array</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.array_to_colors" title="Link to this definition"></a></dt>
<dd><p>Map colors according to the unique values in the array.</p>
<dl class="simple">
<dt>Args:</dt><dd><ol class="arabic simple">
<li><p>array (np.array(n,1)): array with scalars e.g. predictions.</p></li>
<li><p>colors (np.array(n,3)): e.g. np.array([[1,0,0],[0,1,0]]). colors are automatically mapped from [0,1].</p></li>
</ol>
</dd>
<dt>Returns:</dt><dd><p>np.array(n,3)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.array_subsample">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">array_subsample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percentage</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.array_subsample" title="Link to this definition"></a></dt>
<dd><p>subsample rows of np.array</p>
<dl class="simple">
<dt>Args:</dt><dd><p>array (np.ndarray):
percentage (float, optional): downsampling percentage. Defaults to 0.1.</p>
</dd>
<dt>Returns:</dt><dd><p>np.ndarray: output array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.arrays_to_mesh">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">arrays_to_mesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">open3d.geometry.TriangleMesh</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.arrays_to_mesh" title="Link to this definition"></a></dt>
<dd><p>Returns TriangleMesh from arrays.</p>
<dl>
<dt>Args:</dt><dd><p>tuple (Tuple):</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>vertexArray:np.array</p></li>
<li><p>triangleArray:np.array</p></li>
<li><p>(optional) colorArray:np.array</p></li>
<li><p>(optional) normalArray:np.array</p></li>
</ol>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>o3d.geometry.PointCloud</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.box_to_mesh">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">box_to_mesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">box</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">open3d.geometry</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">open3d.geometry.TriangleMesh</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.box_to_mesh" title="Link to this definition"></a></dt>
<dd><p>Returns o3d.geometry.TriangleMesh of an OrientedBoundingBox or AxisAlignedBoundingBox.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>box (o3d.geometry.OrientedBoundingBox or AxisAlignedBoundingBox).</p>
</dd>
<dt>Returns:</dt><dd><p>o3d.geometry.TriangleMesh</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.color_by_intensity">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">color_by_intensity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pcd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">open3d.geometry.PointCloud</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intensities</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">array</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">open3d.geometry.PointCloud</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.color_by_intensity" title="Link to this definition"></a></dt>
<dd><p>Colorize a o3d.geometry.PointCloud with a numpy array of intesities.
The intensties are assumed to have a maximum value of 65535.</p>
<dl class="simple">
<dt>Args:</dt><dd><ol class="arabic simple">
<li><p>pcd (o3d.geometry.PointCloud): Point Cloud to colorize.</p></li>
<li><p>intensities (ndarray): (mx1) values [0-65535].</p></li>
</ol>
</dd>
<dt>Returns</dt><dd><p>o3d.geometry.PointCloud</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.compute_nearest_neighbors">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">compute_nearest_neighbors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query_points</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reference_points</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_normals</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reference_normals</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distanceThreshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ndarray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.compute_nearest_neighbors" title="Link to this definition"></a></dt>
<dd><p>Compute index and distance to nearest neighboring point in the reference dataset.</p>
<p>if the normals are given, it uses them to apply a normal filtering
For the normal filtering, the n closest neighbors are considered of which the correspondence with the best matching normal is retained.</p>
<p><strong>NOTE</strong>:  The index of outliers is set to -1 if distanceTreshold is not None.</p>
<dl>
<dt>Args:</dt><dd><ol class="arabic simple">
<li><p>query_points (np.array[n,3]): points to evaluate.</p></li>
<li><p>query_normals (np.array[n,3]): normals to evaluate.</p></li>
<li><p>reference_points (np.array[n,3]): reference points.</p></li>
<li><p>reference_normals (np.array[n,3]): reference normals.</p></li>
<li><p>n (int, optional): number of neighbors.</p></li>
</ol>
<ol class="arabic simple" start="5">
<li><p>distanceTreshold (_type_, optional): Distance threshold for the nearest neighbors.. Defaults to None.</p></li>
</ol>
</dd>
<dt>Returns:</dt><dd><p>Tuple[np.array,np.array]: indices, distances</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.compute_raycasting_collisions">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">compute_raycasting_collisions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geometries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">open3d.geometry.Geometry</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rays</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">array</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">array</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">array</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.compute_raycasting_collisions" title="Link to this definition"></a></dt>
<dd><p>Compute the collisions between a set of Open3D geometries and rays.</p>
<img alt="../_images/Raycasting_1.PNG" src="../_images/Raycasting_1.PNG" />
<img alt="../_images/boxes1.PNG" src="../_images/boxes1.PNG" />
<dl>
<dt>Args:</dt><dd><p>1.geometries (List[o3d.geometry.Geometry]): A set of Point clouds or meshes.</p>
<p>2.rays (np.array[m,n,6]): Set of rays (1D or 2D) with 6 columns as the last dimension. A ray consists of a startpoint np.array[n,0:3] and a direction np.array[n,3:6]</p>
</dd>
<dt>Returns:</dt><dd><p>Tuple[np.array,np.array]: distances (inf if not hit), geometry_ids (4294967295 if not hit)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.convert_to_homogeneous_3d_coordinates">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">convert_to_homogeneous_3d_coordinates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.convert_to_homogeneous_3d_coordinates" title="Link to this definition"></a></dt>
<dd><p>Converts 3D Cartesian coordinates into homogeneous coordinates or normalizes
existing homogeneous coordinates.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>input_data (list or numpy.ndarray): The input data representing 3D coordinates.</dt><dd><p>Each row should have either 3 (Cartesian)
or 4 (homogeneous) elements.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt>numpy.ndarray: A 2D NumPy array where:</dt><dd><ul class="simple">
<li><p>If input has 3 columns, a fourth column of ones is added.</p></li>
<li><p>If input has 4 columns, all elements are normalized by the last column.</p></li>
<li><p>Otherwise, a ValueError is raised.</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.create_camera_frustum_mesh">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">create_camera_frustum_mesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">transform</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">focal_length_35mm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geomapi.utils.geometryutils.create_camera_frustum_mesh" title="Link to this definition"></a></dt>
<dd><p>Creates a 3D camera frustum mesh as a triangular pyramid using 35mm-equivalent focal length.</p>
<section id="parameters">
<h2>Parameters:<a class="headerlink" href="#parameters" title="Link to this heading"></a></h2>
<dl class="simple">
<dt>transform<span class="classifier">np.ndarray, shape (4, 4)</span></dt><dd><p>A 4x4 transformation matrix that places the camera frustum in world coordinates.</p>
</dd>
<dt>focal_length_35mm<span class="classifier">float</span></dt><dd><p>Camera focal length in millimeters assuming a standard full-frame (36mm x 24mm) sensor.
Used to compute the field of view of the frustum.</p>
</dd>
<dt>depth<span class="classifier">float, optional (default=5.0)</span></dt><dd><p>The distance from the camera origin to the far image plane along the Z-axis.</p>
</dd>
</dl>
</section>
<section id="returns">
<h2>Returns:<a class="headerlink" href="#returns" title="Link to this heading"></a></h2>
<dl class="simple">
<dt>mesh<span class="classifier">o3d.geometry.TriangleMesh</span></dt><dd><p>A triangular mesh representing the camera frustum as a 3D pyramid.</p>
</dd>
</dl>
</section>
<section id="notes">
<h2>Notes:<a class="headerlink" href="#notes" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>The frustum is constructed with its apex at the origin [0, 0, 0] and a rectangular base at the given depth.</p></li>
<li><p>The field of view is calculated from the sensor size and focal length.</p></li>
<li><p>The mesh includes triangular sides and a back face (the image plane), and is colored uniformly.</p></li>
<li><p>The result is useful for visualizing camera poses and orientations in 3D.</p></li>
</ul>
</section>
<section id="example">
<h2>Example:<a class="headerlink" href="#example" title="Link to this heading"></a></h2>
<p>frustum_mesh = create_camera_frustum_mesh(np.eye(4), focal_length_35mm=50.0)
o3d.visualization.draw_geometries([frustum_mesh])</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.create_camera_frustum_mesh_with_image">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">create_camera_frustum_mesh_with_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">transform</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_width</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_height</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">focal_length_35mm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_cv2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geomapi.utils.geometryutils.create_camera_frustum_mesh_with_image" title="Link to this definition"></a></dt>
<dd><p>Creates a 3D camera frustum as an Open3D LineSet, and optionally a textured image plane at the frustum’s far end.</p>
<section id="id1">
<h2>Parameters:<a class="headerlink" href="#id1" title="Link to this heading"></a></h2>
<dl class="simple">
<dt>transform<span class="classifier">np.ndarray, shape (4, 4)</span></dt><dd><p>A 4x4 transformation matrix representing the camera’s pose in world coordinates.</p>
</dd>
<dt>image_width<span class="classifier">int</span></dt><dd><p>Width of the image in pixels. Used to determine the aspect ratio of the camera’s sensor.</p>
</dd>
<dt>image_height<span class="classifier">int</span></dt><dd><p>Height of the image in pixels. Used to determine the aspect ratio of the camera’s sensor.</p>
</dd>
<dt>focal_length_35mm<span class="classifier">float</span></dt><dd><p>Camera focal length in millimeters, assuming a 35mm-equivalent sensor width of 36mm.
This is used to compute the field of view and shape of the frustum.</p>
</dd>
<dt>depth<span class="classifier">float, optional (default=5.0)</span></dt><dd><p>Distance from the camera origin to the far/image plane along the Z-axis (i.e., frustum depth).</p>
</dd>
<dt>image_cv2<span class="classifier">np.ndarray, optional</span></dt><dd><p>An OpenCV (NumPy) RGB or BGR image. If provided, a textured mesh is created at the far end
of the frustum using the image dimensions for accurate aspect ratio.</p>
</dd>
</dl>
</section>
<section id="id2">
<h2>Returns:<a class="headerlink" href="#id2" title="Link to this heading"></a></h2>
<dl class="simple">
<dt>line_set<span class="classifier">o3d.geometry.LineSet</span></dt><dd><p>A LineSet representing the frustum’s edges.</p>
</dd>
<dt>image_mesh<span class="classifier">o3d.geometry.TriangleMesh or None</span></dt><dd><p>A textured TriangleMesh showing the input image at the far end of the frustum.
Returns None if <cite>image_cv2</cite> is not provided.</p>
</dd>
</dl>
</section>
<section id="id3">
<h2>Notes:<a class="headerlink" href="#id3" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>The frustum assumes a perspective camera with a virtual sensor width of 36mm.</p></li>
<li><p>The image plane is placed at <cite>depth</cite> units away from the camera origin along the local Z-axis.</p></li>
<li><p>This function is useful for visualizing camera poses and projected views in 3D scenes.</p></li>
</ul>
</section>
<section id="id4">
<h2>Example:<a class="headerlink" href="#id4" title="Link to this heading"></a></h2>
<p>frustum, img_plane = create_camera_frustum_mesh(transform, w, h, 50.0, depth=5.0, image_cv2=cv2_img)
o3d.visualization.draw_geometries([frustum, img_plane] if img_plane else [frustum])</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.create_ellipsoid_mesh">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">create_ellipsoid_mesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">radii</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transformation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">30</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geomapi.utils.geometryutils.create_ellipsoid_mesh" title="Link to this definition"></a></dt>
<dd><p>Create an Open3D TriangleMesh of an ellipsoid with a given set of radii and transformation matrix.</p>
<img alt="../_images/ellipsoid.jpg" src="../_images/ellipsoid.jpg" />
<dl class="simple">
<dt>Args:</dt><dd><ul class="simple">
<li><p>radii: A numpy array [a,b,c] representing the radii of the ellipsoid along the primary, secondary and tertiary axes.</p></li>
<li><p>transformation: A 4x4 transformation matrix (numpy array) to apply to the ellipsoid mesh.</p></li>
<li><p>resolution: The resolution of the mesh (default 30).</p></li>
</ul>
</dd>
<dt>Returns</dt><dd><ul class="simple">
<li><p>An Open3D TriangleMesh object representing the ellipsoid.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.create_identity_point_cloud">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">create_identity_point_cloud</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geometries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">open3d.geometry.PointCloud</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">getNormals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">open3d.geometry.PointCloud</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">array</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.create_identity_point_cloud" title="Link to this definition"></a></dt>
<dd><p>Returns a sampled point cloud colorized per object of a set of objects along with an array with an identifier for each point.</p>
<p>TODO: MB also store normals</p>
<dl>
<dt>Args:</dt><dd><p>1.geometries (o3d.geometry.PointCloud or o3d.geometry.TriangleMesh)</p>
<p>2.resolution (float, optional): (down)sampling resolution for the point cloud. Defaults to 0.1.</p>
</dd>
<dt>Raises:</dt><dd><p>ValueError: Geometries must be o3d.geometry (PointCloud or TriangleMesh)</p>
</dd>
<dt>Returns:</dt><dd><p>Tuple[colorized point cloud (o3d.geometry.PointCloud), identityArray(np.array)] per geometry</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.create_obb_from_orthophoto">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">create_obb_from_orthophoto</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cartesian_transform</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_width</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_height</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gsd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geomapi.utils.geometryutils.create_obb_from_orthophoto" title="Link to this definition"></a></dt>
<dd><p>Creates an oriented bounding box (OBB) for an orthographic image,
with the origin at the center of the back face (z = 0) of the box.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><p>cartesian_transform (np.ndarray): 4x4 transformation matrix.
image_width (int): Image width in pixels.
image_height (int): Image height in pixels.
gsd (float): Ground sampling distance (meters per pixel).
depth (float): Depth (thickness) of the image in meters.</p>
</dd>
<dt>Returns:</dt><dd><p>o3d.geometry.OrientedBoundingBox: The computed OBB.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.create_transform_from_pyramid_points">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">create_transform_from_pyramid_points</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">points</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-06</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geomapi.utils.geometryutils.create_transform_from_pyramid_points" title="Link to this definition"></a></dt>
<dd><p>Given 5 points of a pyramid (4 base + 1 tip, unordered),
find the tip and compute a transform with:
- origin at tip
- forward toward base center
- up aligned as closely as possible to world_up</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.create_xyz_grid">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">create_xyz_grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bounds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolutions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.create_xyz_grid" title="Link to this definition"></a></dt>
<dd><p>Generate a xyz grid. If only a single value is needed, set the boundaries equal e.g. xMin=xMax and the resolution to 1 e.g. dx=1.</p>
<dl>
<dt>Args:</dt><dd><p>1.bounds (List[float]): [xMin,xMax,yMin,yMax,zMin,zMax]</p>
<p>2.resolutions (List[float]):[dx,dy,dz]</p>
</dd>
<dt>Returns:</dt><dd><p>np.array(x,y,z)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.crop_dataframe_from_meshes">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">crop_dataframe_from_meshes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pandas.DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meshes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">open3d.geometry.TriangleMesh</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">pandas.DataFrame</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.crop_dataframe_from_meshes" title="Link to this definition"></a></dt>
<dd><p>Crop point cloud and divide the inliers per waterthight mesh.</p>
<dl class="simple">
<dt>Args:</dt><dd><ol class="arabic simple">
<li><p>dataFrame (pd.DataFrame): Pandas dataframe with first three columns as [X,Y,Z].</p></li>
<li><p>meshes (o3d.geometry.TriangleMesh): meshes to test the inliers.</p></li>
</ol>
</dd>
<dt>Returns:</dt><dd><p>List[o3d.geometry.PointCloud]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.crop_geometry_by_box">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">crop_geometry_by_box</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geometry</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">open3d.geometry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">box</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">open3d.geometry.OrientedBoundingBox</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subdivide</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">open3d.geometry</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.crop_geometry_by_box" title="Link to this definition"></a></dt>
<dd><p>Crop portion of a mesh/pointcloud that lies within an OrientedBoundingBox.</p>
<img alt="../_images/selection_BB_mesh2.PNG" src="../_images/selection_BB_mesh2.PNG" />
<dl class="simple">
<dt>Args:</dt><dd><ol class="arabic simple">
<li><p>geometry (o3d.geometry.TriangleMesh or o3d.geometry.PointCloud): Geometry to be cropped</p></li>
<li><p>box (o3d.geometry.OrientedBoundingBox): bouding cutter geometry</p></li>
<li><p>subdivide (int): number of interations to increase the density of the mesh (1=x4, 2=x16, etc.)</p></li>
</ol>
</dd>
<dt>Returns:</dt><dd><p>o3d.geometry.TriangleMesh or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.crop_geometry_by_distance">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">crop_geometry_by_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">open3d.geometry.Geometry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reference</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">open3d.geometry.Geometry</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">open3d.geometry.PointCloud</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.crop_geometry_by_distance" title="Link to this definition"></a></dt>
<dd><p>Returns the portion of a pointcloud that lies within a range of another mesh/point cloud.</p>
<img alt="../_images/crop_by_distance2.PNG" src="../_images/crop_by_distance2.PNG" />
<dl class="simple">
<dt>Args:</dt><dd><ol class="arabic simple">
<li><p>source (o3d.geometry.TriangleMesh or o3d.geometry.PointCloud) : point cloud to filter</p></li>
<li><p>cutters (o3d.geometry.TriangleMesh or o3d.geometry.PointCloud): list of reference data</p></li>
<li><p>threshold (float, optional): threshold Euclidean distance for the filtering.Defaults to 0.1m.</p></li>
</ol>
</dd>
<dt>Returns:</dt><dd><p>o3d.geometry (TriangleMesh or PointCloud)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.crop_geometry_by_raycasting">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">crop_geometry_by_raycasting</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">open3d.geometry.TriangleMesh</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">open3d.geometry.TriangleMesh</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inside</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">open3d.geometry.TriangleMesh</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.crop_geometry_by_raycasting" title="Link to this definition"></a></dt>
<dd><p>Select portion of a mesh that lies within a mesh shape (if not closed, convexhull is called).</p>
<p>inside=True
.. image:: ../../../docs/pics/crop_by_ray_casting1.PNG</p>
<p>inside=False
.. image:: ../../../docs/pics/crop_by_ray_casting2.PNG</p>
<dl class="simple">
<dt>Args:</dt><dd><ol class="arabic simple">
<li><p>source (o3d.geometry.TriangleMesh) : mesh to cut</p></li>
<li><p>cutter (o3d.geometry.TriangleMesh) : mesh that cuts</p></li>
<li><p>inside (bool): ‘True’ to retain inside. ‘False’ to retain outside</p></li>
<li><p>strict (bool): ‘True’ if no face vertex is allowed outside the bounds, ‘False’ allows 1 vertex to lie outside</p></li>
</ol>
</dd>
<dt>Returns:</dt><dd><p>outputmesh(o3d.geometry.TriangleMesh)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.crop_mesh_by_convex_hull">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">crop_mesh_by_convex_hull</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">trimesh.Trimesh</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutters</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">trimesh.Trimesh</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inside</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">trimesh.Trimesh</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.crop_mesh_by_convex_hull" title="Link to this definition"></a></dt>
<dd><p>Cut a portion of a mesh that lies within the convex hull of another mesh.</p>
<img alt="../_images/crop_by_convex_hull.PNG" src="../_images/crop_by_convex_hull.PNG" />
<dl class="simple">
<dt>Args:</dt><dd><ol class="arabic simple">
<li><p>source (trimesh.Trimesh):   mesh that will be cut</p></li>
<li><p>cutter (trimesh.Trimesh):   mesh of which the faces are used for the cuts. Face normals should point outwards (positive side)</p></li>
<li><p>strict (bool):           True if source faces can only be part of a single submesh</p></li>
<li><p>inside (bool):           True if retain the inside of the intersection</p></li>
</ol>
</dd>
<dt>Returns:</dt><dd><p>mesh (trimesh.Trimesh) or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.crop_point_cloud_from_meshes">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">crop_point_cloud_from_meshes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pcd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">open3d.geometry.PointCloud</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meshes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">open3d.geometry.TriangleMesh</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">open3d.geometry.PointCloud</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.crop_point_cloud_from_meshes" title="Link to this definition"></a></dt>
<dd><p>Crop point cloud and divide the inliers per waterthight mesh.</p>
<dl class="simple">
<dt>Args:</dt><dd><ol class="arabic simple">
<li><p>pcd (o3d.geometry.PointCloud): point cloud to be cropped.</p></li>
<li><p>meshes (o3d.geometry.TriangleMesh). cutter objects.</p></li>
</ol>
</dd>
<dt>Returns:</dt><dd><p>List[o3d.geometry.PointCloud]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.dataframe_to_las">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">dataframe_to_las</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pandas.DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xyz</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[0,</span> <span class="pre">1,</span> <span class="pre">2]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rgb</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtypes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">laspy.lasdata</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.dataframe_to_las" title="Link to this definition"></a></dt>
<dd><p>Convert a dataframe representing a point cloud to a las point cloud file.
View laspy dimension and type formatting at <a class="reference external" href="https://laspy.readthedocs.io/en/latest/lessbasic.html">https://laspy.readthedocs.io/en/latest/lessbasic.html</a>.</p>
<p>E.g.: las=dataframe_to_las(dataframe,rgb=[3,4,5])</p>
<dl class="simple">
<dt>Args:</dt><dd><p>1.dataframe (pd.DataFrame): data frame with a number of columns such as xyz, rgb and some scalar fields (conform numpy)
2.xyz (List[int], optional): Indices of the xyz coordinates in the dataframe. Defaults to [0,1,2].
3.rgb (List[int], optional): Indices of the color information in the dataframe e.g. [3,4,5]. Defaults to None.
4.dtypes (List[str], optional): types of the scalar fields that will be added e.g. [‘float32’,’uint8’]. Defaults to [float32] equal to the length of the scalar fields.</p>
</dd>
<dt>Returns:</dt><dd><p>laspy.lasdata: output las file</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.dataframe_to_pcd">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">dataframe_to_pcd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pandas.DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xyz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0,</span> <span class="pre">1,</span> <span class="pre">2]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rgb</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[3,</span> <span class="pre">4,</span> <span class="pre">5]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transform</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">array</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">open3d.geometry.PointCloud</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.dataframe_to_pcd" title="Link to this definition"></a></dt>
<dd><p>Convert Pandas dataframe to o3d.geometry.PointCloud.</p>
<p><strong>NOTE</strong>: this is slow. Ignoring color and normals speeds up the process by about 30%. More efficient method needed.</p>
<dl class="simple">
<dt>Args:</dt><dd><ol class="arabic simple">
<li><p>df (pd.DataFrame): Dataframe with named columns [‘x’, ‘y’, ‘z’] and optional [‘R’, ‘G’, ‘B’] and [‘Nx’, ‘Ny’, ‘Nz’].</p></li>
<li><p>pointFields (List[str]): optional column names. defaults to [‘x’, ‘y’, ‘z’,’R’, ‘G’, ‘B’,’Nx’, ‘Ny’, ‘Nz’]</p></li>
</ol>
</dd>
<dt>Raises:</dt><dd><p>ValueError: No valid xyz data. Make sure column headers are names X,Y,Z.</p>
</dd>
<dt>Returns:</dt><dd><p>o3d.geometry.PointCloud</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.describe_element">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">describe_element</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geomapi.utils.geometryutils.describe_element" title="Link to this definition"></a></dt>
<dd><p>Takes the columns of a dataframe and builds a ply-like description.</p>
<dl class="simple">
<dt>Args:</dt><dd><ol class="arabic simple">
<li><p>name: str</p></li>
<li><p>df: pandas DataFrame</p></li>
</ol>
</dd>
<dt>Returns:</dt><dd><p>element: list[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.divide_box_in_boxes">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">divide_box_in_boxes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">box</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">open3d.geometry.Geometry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">open3d.geometry.Geometry</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.divide_box_in_boxes" title="Link to this definition"></a></dt>
<dd><p>Subdivide an open3d OrientedBoundingBox or AxisAlignedBoundingBox into a set of smaller boxes (either by size of number of parts).</p>
<img alt="../_images/subselection1.PNG" src="../_images/subselection1.PNG" />
<dl class="simple">
<dt>Args:</dt><dd><p>box (o3d.geometry.OrientedBoundingBox or AxisAlignedBoundingBox): box to divide
size (list[float], optional): X, Y and Z size of the subdivided boxes in meter e.g. [10,10,5].
parts (list[int], optional): X, Y and Z number of parts to divide the box in e.g. [7,7,1].</p>
</dd>
<dt>Returns:</dt><dd><p>List[o3d.geometry.AxisAlignedBoundingBox]: list of boxes</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.divide_pcd_per_height">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">divide_pcd_per_height</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">heights</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pointCloud</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">open3d.geometry.PointCloud</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">open3d.geometry.PointCloud</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.divide_pcd_per_height" title="Link to this definition"></a></dt>
<dd><p>Devides a point cloud based on a set of heights.</p>
<dl class="simple">
<dt>Args:</dt><dd><ol class="arabic simple">
<li><p>heights (List[float]): heights along which to split the point cloud.</p></li>
<li><p>pointCloud (o3d.geometry.PointCloud): PointCloud to split.</p></li>
</ol>
</dd>
<dt>Returns:</dt><dd><p>List[o3d.geometry.PointCloud] is ascending order.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.e57_to_arrays">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">e57_to_arrays</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">e57Path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e57Index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percentage</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tasknr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">array</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">array</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">array</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">array</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.e57_to_arrays" title="Link to this definition"></a></dt>
<dd><p>Convert a scan from a pye57.e57.E57 file to a tuple of 4 arrays.</p>
<dl class="simple">
<dt>Features:</dt><dd><ol class="arabic simple" start="0">
<li><p>[‘cartesianX’, ‘cartesianY’, ‘cartesianZ’]</p></li>
<li><p>[‘colorRed’, ‘colorGreen’, ‘colorBlue’]</p></li>
<li><p>[‘nor:normalX’, ‘nor:normalY’, ‘nor:normalZ’]</p></li>
<li><p>cartesianTransform (np.array)</p></li>
<li><p>tasknr (int): int to retrieve order in multiprocessing</p></li>
</ol>
</dd>
<dt>Args:</dt><dd><ol class="arabic simple">
<li><p>e57 (pye57.e57.E57)</p></li>
<li><p>e57Index (int,optional): index of the scan. Typically found in e57.scan_count</p></li>
<li><p>tasknr (int): int to retrieve order in multiprocessing</p></li>
</ol>
</dd>
<dt>Returns:</dt><dd><p>Tuple[pointArray(np.array),colorArray(np.array),normalArray(np.array),cartesianTransform(np.array),tasknr(int)]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.e57_to_pcd">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">e57_to_pcd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">e57</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pye57.e57.E57</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e57Index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percentage</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">open3d.geometry.PointCloud</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.e57_to_pcd" title="Link to this definition"></a></dt>
<dd><p>Convert a scan from a pye57.e57.E57 file to o3d.geometry.PointCloud.</p>
<dl class="simple">
<dt>Args:</dt><dd><ol class="arabic simple">
<li><p>e57 (pye57.e57.E57)</p></li>
<li><p>e57Index (int,optional)</p></li>
<li><p>percentage (float,optional): downsampling ratio. defaults to 1.0 (100%)</p></li>
</ol>
</dd>
<dt>Returns:</dt><dd><p>o3d.geometry.PointCloud</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.get_e57_from_pcd">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">get_e57_from_pcd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pcd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">open3d.geometry.PointCloud</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.get_e57_from_pcd" title="Link to this definition"></a></dt>
<dd><p>Returns the data of an o3d.geometry.PointCloud as the data structure of an e57 file so it can be written to file.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>pcd (o3d.geometry.PointCloud)</p>
</dd>
<dt>Returns:</dt><dd><p>Data3D dictionary conform the E57 standard.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.e57_array_to_pcd">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">e57_array_to_pcd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">open3d.geometry.PointCloud</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.e57_array_to_pcd" title="Link to this definition"></a></dt>
<dd><p>Returns PointCloud from e57 arrays.</p>
<dl>
<dt>Args:</dt><dd><p>tuple (Tuple):</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>pointArray:np.array</p></li>
<li><p>colorArray:np.array</p></li>
<li><p>normalArray:np.array</p></li>
<li><p>cartesianTransform:np.array</p></li>
</ol>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>o3d.geometry.PointCloud</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.e57_dict_to_pcd">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">e57_dict_to_pcd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">e57</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percentage</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">open3d.geometry.PointCloud</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.e57_dict_to_pcd" title="Link to this definition"></a></dt>
<dd><p>Convert a scan from a e57 dictionary (raw scandata) to o3d.geometry.PointCloud.</p>
<dl class="simple">
<dt>Args:</dt><dd><ol class="arabic simple">
<li><p>e57 dict</p></li>
<li><p>e57Index (int,optional)</p></li>
<li><p>percentage (float,optional): downsampling ratio. defaults to 1.0 (100%)</p></li>
</ol>
</dd>
<dt>Returns:</dt><dd><p>o3d.geometry.PointCloud</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.e57_fix_rotation_order">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">e57_fix_rotation_order</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rotation_matrix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">array</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">array</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.e57_fix_rotation_order" title="Link to this definition"></a></dt>
<dd><p>Switch the rotation from clockwise to counter-clockwise in e57 rotation matrix. See following url for more information:</p>
<p><a class="reference external" href="https://robotics.stackexchange.com/questions/10702/rotation-matrix-sign-convention-confusion">https://robotics.stackexchange.com/questions/10702/rotation-matrix-sign-convention-confusion</a></p>
<p>Currently only changes the signs of elements [0,1,5,8].</p>
<dl class="simple">
<dt>Args:</dt><dd><p>rotation_matrix(np.array(3x3))</p>
</dd>
<dt>Returns:</dt><dd><p>transformed rotation_matrix(np.array(3x3))</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.e57_get_cartesian_transform">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">e57_get_cartesian_transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">header</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">array</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.e57_get_cartesian_transform" title="Link to this definition"></a></dt>
<dd><p>Returns the cartesianTransform from an e57 header.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>header (e57): rotation and translation should be present.</p>
</dd>
<dt>Returns:</dt><dd><p>np.array (4x4): transformation Matrix</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.e57_get_colors">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">e57_get_colors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rawData</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.e57_get_colors" title="Link to this definition"></a></dt>
<dd><p>Extract color of intensity information from e57 raw data (3D data) and output Open3D o3d.utility.Vector3dVector(colors).</p>
<dl class="simple">
<dt>Args:</dt><dd><p>rawData(dict): e57 dictionary resulting from e57.read_scan_raw(e57Index)</p>
</dd>
<dt>Returns:</dt><dd><p>np.array(nx3): RGB or intensity color information. RGB is prioritised.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.e57_get_normals">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">e57_get_normals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rawData</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.e57_get_normals" title="Link to this definition"></a></dt>
<dd><p>Returns normal vectors from e57 rawData.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>rawData (dict): e57 dictionary resulting from e57.read_scan_raw(e57Index).</p>
</dd>
<dt>Returns:</dt><dd><p>np.array(nx3): magnitude 1</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.e57_get_xyz_from_raw_data">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">e57_get_xyz_from_raw_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rawData</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.e57_get_xyz_from_raw_data" title="Link to this definition"></a></dt>
<dd><p>Returns the xyz coordinates from e57 raw data.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>rawData (e57 dict):  rawData = e57.read_scan_raw(e57Index).</p>
</dd>
<dt>Returns:</dt><dd><p>np.array (nx3): XYZ cartesian coordinates np.array.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.e57_get_xyz_from_spherical_raw_data">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">e57_get_xyz_from_spherical_raw_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rawData</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">array</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.e57_get_xyz_from_spherical_raw_data" title="Link to this definition"></a></dt>
<dd><p>Converts spherical(rae) to cartesian(xyz), where rae = range, azimuth(theta),
elevation(phi). Where range is in meters and angles are in radians.</p>
<p>Reference for formula: <a class="reference external" href="http://www.libe57.org/bestCoordinates.html">http://www.libe57.org/bestCoordinates.html</a></p>
<dl class="simple">
<dt>Args:</dt><dd><p>rawData (e57 dict):  rawData = e57.read_scan_raw(e57Index).</p>
</dd>
<dt>Returns:</dt><dd><p>np.array (nx3): XYZ cartesian coordinates np.array.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.e57_update_point_field">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">e57_update_point_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">e57</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pye57.e57.E57</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geomapi.utils.geometryutils.e57_update_point_field" title="Link to this definition"></a></dt>
<dd><p>Update e57 point fields with any point field in the file.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>e57 (pye57.e57.E57):</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.e57path_to_pcd">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">e57path_to_pcd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">e57Path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e57Index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percentage</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">open3d.geometry.PointCloud</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.e57path_to_pcd" title="Link to this definition"></a></dt>
<dd><p>Load an e57 file and convert the data to o3d.geometry.PointCloud.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>e57path</p>
</dd>
<dt>Raises:</dt><dd><p>ValueError: Invalid e57Path.</p>
</dd>
<dt>Returns:</dt><dd><p>o3d.geometry.PointCloud</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.e57path_to_pcds_multiprocessing">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">e57path_to_pcds_multiprocessing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">e57Path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percentage</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">open3d.geometry.PointCloud</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.e57path_to_pcds_multiprocessing" title="Link to this definition"></a></dt>
<dd><p>Load an e57 file and convert all data to a list of o3d.geometry.PointCloud objects.</p>
<p><strong>NOTE</strong>: Complex types cannot be pickled (serialized) by Windows. Therefore, a two step parsing is used where e57 data is first loaded as np.arrays with multi-processing.
Next, the arrays are passed to o3d.geometry.PointClouds outside of the loop.</p>
<p><strong>NOTE</strong>: starting parallel processing takes a bit of time. This method will start to outperform single-core import from 3+ pointclouds.</p>
<dl class="simple">
<dt>Args:</dt><dd><ol class="arabic simple">
<li><p>e57path(str): absolute path to .e57 file</p></li>
<li><p>percentage(float,optional): percentage of points to load. Defaults to 1.0 (100%)</p></li>
</ol>
</dd>
<dt>Raises:</dt><dd><p>ValueError: Invalid e57Path.</p>
</dd>
<dt>Returns:</dt><dd><p>o3d.geometry.PointCloud</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.expand_box">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">expand_box</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">box</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">open3d.geometry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">u</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5.0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">open3d.geometry</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.expand_box" title="Link to this definition"></a></dt>
<dd><p>expand an o3d.geometry.BoundingBox in u(x), v(y) and w(z) direction with a certain offset.</p>
<dl class="simple">
<dt>Args:</dt><dd><ol class="arabic simple">
<li><p>box (o3d.geometry.OrientedBoundingBox, o3d.geometry.AxisAlignedBoundingBox,o3d.geometry.TriangleMesh box)</p></li>
<li><p>u (float, optional): Offset in X. Defaults to 5.0m.</p></li>
<li><p>v (float, optional): Offset in Y. Defaults to 5.0m.</p></li>
<li><p>w (float, optional): Offset in Z. Defaults to 5.0m.</p></li>
</ol>
</dd>
<dt>Returns:</dt><dd><p>o3d.geometry.OrientedBoundingBox or o3d.geometry.AxisAlignedBoundingBox</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.extract_points">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">extract_points</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geometry</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geomapi.utils.geometryutils.extract_points" title="Link to this definition"></a></dt>
<dd><p>Extracts points from PointCloud, TriangleMesh, LineSet, Vector3dVector or NumPy array.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.generate_virtual_images">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">generate_virtual_images</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geometries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">open3d.geometry.Geometry</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cartesianTransforms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">array</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">640</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">480</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">400</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">open3d.geometry.Image</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.generate_virtual_images" title="Link to this definition"></a></dt>
<dd><p>Generate a set of Open3D Images from cartesianTransforms and geometries.</p>
<p>The same intrinsic camera parameters are used for all cartesianTransforms that are passed to the function.</p>
<img alt="../_images/rendering3.PNG" src="../_images/rendering3.PNG" />
<dl class="simple">
<dt>Args:</dt><dd><ol class="arabic simple">
<li><p>geometries (List[o3d.geometry]):o3d.geometry.PointCloud or o3d.geometry.TriangleMesh</p></li>
<li><p>cartesianTransforms (List[np.array 4x4]): [Rt]</p></li>
<li><p>width (int, optional): image width in pix. Defaults to 640pix.</p></li>
<li><p>height (int, optional): image height in pix. Defaults to 480pix.</p></li>
<li><p>f (float, optional): focal length in pix. Defaults to 400pix.</p></li>
</ol>
</dd>
<dt>Returns:</dt><dd><p>List[o3d.geometry.Image]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.get_backface_center_transform">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">get_backface_center_transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obb</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">open3d.geometry.OrientedBoundingBox</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.get_backface_center_transform" title="Link to this definition"></a></dt>
<dd><p>Returns the full 4x4 Cartesian transform (position and rotation) of the center
of the back face (along -Z in local space) of an oriented bounding box.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><p>obb (o3d.geometry.OrientedBoundingBox): The oriented bounding box.</p>
</dd>
<dt>Returns:</dt><dd><p>np.ndarray: 4x4 transformation matrix for the center of the back face.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.get_box_inliers">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">get_box_inliers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sourceBox</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">open3d.geometry.OrientedBoundingBox</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">testBoxes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">open3d.geometry.OrientedBoundingBox</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_d</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.get_box_inliers" title="Link to this definition"></a></dt>
<dd><p>Return the indices of the testBoxes of which the bounding points lie within the sourceBox.</p>
<img alt="../_images/get_box_inliers1.PNG" src="../_images/get_box_inliers1.PNG" />
<dl class="simple">
<dt>Args:</dt><dd><ol class="arabic simple">
<li><p>sourceBox (o3d.geometry.OrientedBoundingBox)</p></li>
<li><p>testBoxes (o3d.geometry.OrientedBoundingBox)</p></li>
</ol>
</dd>
<dt>Returns:</dt><dd><p>list (List[int]): Indices of testBoxes</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.get_box_intersections">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">get_box_intersections</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sourceBox</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">open3d.geometry.OrientedBoundingBox</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">testBoxes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">open3d.geometry.OrientedBoundingBox</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.get_box_intersections" title="Link to this definition"></a></dt>
<dd><p>Return indices of testBoxes of which the geometry intersects with the sourceBox.</p>
<p>2 oriented bounding boxes (A,B) overlap if the projection from B in the coordinate system of A on all the axes overlap.</p>
<p>The projection of B on the oriented axes of A is simply the coordinate range for that axis.</p>
<img alt="../_images/get_box_inliers1.PNG" src="../_images/get_box_inliers1.PNG" />
<dl class="simple">
<dt>Args:</dt><dd><ol class="arabic simple">
<li><p>sourceBox (o3d.geometry.OrientedBoundingBox):   box to test</p></li>
<li><p>testBoxes (o3d.geometry.OrientedBoundingBox):   boxes to test</p></li>
</ol>
</dd>
<dt>Returns:</dt><dd><p>list (List[int]):       indices of testBoxes</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.get_cartesian_bounds">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">get_cartesian_bounds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geometry</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">open3d.geometry.Geometry</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.get_cartesian_bounds" title="Link to this definition"></a></dt>
<dd><p>Get cartesian bounds from Open3D geometry.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>geometry (o3d.geometry): Open3D geometry supertype (PointCloud, TriangleMesh, OrientedBoundingBox, etc.)</p>
</dd>
<dt>Returns:</dt><dd><p>np.array: [xMin,xMax,yMin,yMax,zMin,zMax]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.get_cartesian_transform">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">get_cartesian_transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">translation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">array</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">array</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.get_cartesian_transform" title="Link to this definition"></a></dt>
<dd><p>Return cartesianTransform from rotation, translation or cartesianBounds inputs.</p>
<dl class="simple">
<dt>Args:</dt><dd><ul class="simple">
<li><p>translation (Optional[np.ndarray]): A 3-element translation vector</p></li>
<li><p>rotation (Optional[np.ndarray]): A 3x3 rotation matrix, Euler angles $(R_x,R_y,R_z)$ or a rotation quaternion $(q_x,q_y,q_z,q_w)$.</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><p>cartesianTransform (np.ndarray): The 4x4 transformation matrix</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.get_convex_hull">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">get_convex_hull</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geometry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thickness</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distanceTreshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10000</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geomapi.utils.geometryutils.get_convex_hull" title="Link to this definition"></a></dt>
<dd><p>Computes the Convex Hull for PointCloud, Mesh, LineSet, or NumPy array.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.get_geometry_from_path">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">get_geometry_from_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">open3d.geometry.Geometry</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.get_geometry_from_path" title="Link to this definition"></a></dt>
<dd><p>Gets a open3d Geometry from a path.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>path (str): The absulute path to the resource</p>
</dd>
<dt>Returns:</dt><dd><p>o3d.geometry: open3d.Pointcloud or open3d.Trianglemesh, depending on the extension</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.get_mesh_collisions_trimesh">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">get_mesh_collisions_trimesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sourceMesh</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">open3d.geometry.TriangleMesh</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geometries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">open3d.geometry.TriangleMesh</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.get_mesh_collisions_trimesh" title="Link to this definition"></a></dt>
<dd><p>Return indices of geometries that collide with the source.</p>
<img alt="../_images/collision_4.PNG" src="../_images/collision_4.PNG" />
<dl class="simple">
<dt>Args:</dt><dd><ol class="arabic simple">
<li><p>sourceMesh (o3d.geometry.TriangleMesh)</p></li>
<li><p>geometries (List[o3d.geometry.TriangleMesh])</p></li>
</ol>
</dd>
<dt>Returns:</dt><dd><p>List[int]: indices of inliers.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.get_mesh_inliers">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">get_mesh_inliers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sources</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">open3d.geometry.TriangleMesh</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reference</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">open3d.geometry.TriangleMesh</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.get_mesh_inliers" title="Link to this definition"></a></dt>
<dd><p>Returns the indices of the geometries that lie within a reference geometry. The watertightness of both source and reference geometries is determined after which the occupancy is computed for a numer of sampled points in the source geometries.</p>
<p><strong>NOTE</strong>: all source ponts/vertices should lie within the reference, else this is False.</p>
<img alt="../_images/selection_BB_mesh5.PNG" src="../_images/selection_BB_mesh5.PNG" />
<dl class="simple">
<dt>Args:</dt><dd><ol class="arabic simple">
<li><p>sources (List[o3d.geometry.TriangleMesh or o3d.geometry.PointCloud]): geometries to test for collision</p></li>
<li><p>reference (o3d.geometry.TriangleMesh or o3d.geometry.PointCloud): reference geometry</p></li>
</ol>
</dd>
<dt>Returns:</dt><dd><p>List[int]: Indices of the inlier geometries</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.get_oriented_bounding_box">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">get_oriented_bounding_box</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geometry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thickness</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distanceTreshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10000</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geomapi.utils.geometryutils.get_oriented_bounding_box" title="Link to this definition"></a></dt>
<dd><p>Computes the Oriented Bounding Box (OBB) for PointCloud, Mesh, LineSet, or NumPy array.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.get_oriented_bounding_box_parameters">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">get_oriented_bounding_box_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">orientedBoundingBox</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">open3d.geometry.OrientedBoundingBox</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.get_oriented_bounding_box_parameters" title="Link to this definition"></a></dt>
<dd><p>Extract the center, extent, and Euler angles from an Open3D oriented bounding box.</p>
<p>Parameters:
obb (o3d.geometry.OrientedBoundingBox): The oriented bounding box from which to extract parameters.</p>
<p>Returns:
tuple: A tuple containing the center (list), extent (list), and Euler angles (list in degrees).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.get_oriented_bounds">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">get_oriented_bounds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cartesianBounds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">array</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">open3d.utility.Vector3dVector</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.get_oriented_bounds" title="Link to this definition"></a></dt>
<dd><p>Get 8 bounding box from cartesianBounds.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>cartesianBounds (np.array[6x1])</p>
</dd>
<dt>Returns:</dt><dd><p>List[o3d.utility.Vector3dVector]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.get_pcd_collisions">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">get_pcd_collisions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sourcePcd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">open3d.geometry.PointCloud</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geometries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">open3d.geometry.PointCloud</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.get_pcd_collisions" title="Link to this definition"></a></dt>
<dd><p>Return indices of geometries that collide with the source. This detection is based on the convex hull of the geometries and the sourcePcd.</p>
<dl class="simple">
<dt>Args:</dt><dd><ol class="arabic simple">
<li><p>sourceMesh (o3d.geometry.TriangleMesh)</p></li>
<li><p>geometries (List[o3d.geometry.TriangleMesh])</p></li>
</ol>
</dd>
<dt>Returns:</dt><dd><p>List[int]: indices</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.get_pcd_from_depth_map">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">get_pcd_from_depth_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">open3d.geometry.PointCloud</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.get_pcd_from_depth_map" title="Link to this definition"></a></dt>
<dd><p>Convert a panoramic depth map and image colors (equirectangular) to a 3D point cloud.</p>
<dl class="simple">
<dt>Args:</dt><dd><ul class="simple">
<li><p>self._depthMap: 2D numpy array containing depth values (equirectangular depth map)</p></li>
<li><p>self._resource: 2D numpy array containing color values (equirectangular color image)</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>An Open3D point cloud object</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.get_points_and_normals">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">get_points_and_normals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pcd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transform</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">getNormals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ndarray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.get_points_and_normals" title="Link to this definition"></a></dt>
<dd><p>Extract points from different point cloud formats. Optionally extract or generate normals and apply a rigid body transformation.</p>
<dl class="simple">
<dt>Args:</dt><dd><ol class="arabic simple">
<li><p>pcd (_type_): point cloud</p></li>
<li><p>transform (np.array[4,4], optional): Rigid body transformation. Defaults to None.</p></li>
<li><p>getNormals (bool, optional): Defaults to False.</p></li>
</ol>
</dd>
<dt>Raises:</dt><dd><p>ValueError: Only open3d, laspy and pandas data formats are currently supported.</p>
</dd>
<dt>Returns:</dt><dd><p>Tuple[np.array,np.array]: points, normals</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.get_rotation_matrix_from_forward_up">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">get_rotation_matrix_from_forward_up</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">forward</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">up</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.get_rotation_matrix_from_forward_up" title="Link to this definition"></a></dt>
<dd><p>Compute a rotation matrix from a forward and an up vector. (right, up, forward)</p>
<dl class="simple">
<dt>Args:</dt><dd><p>forward (np.ndarray): A 3-element array representing the forward direction.
up (np.ndarray): A 3-element array representing the up direction.</p>
</dd>
<dt>Returns:</dt><dd><p>np.ndarray: A 3x3 rotation matrix.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.get_rotation_matrix">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">get_rotation_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">array</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">array</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.get_rotation_matrix" title="Link to this definition"></a></dt>
<dd><p>Get rotation matrix from one of the following inputs.</p>
<dl class="simple">
<dt>Args:</dt><dd><ol class="arabic simple">
<li><p>cartesianTransform (np.array [4x4])</p></li>
<li><p>Euler angles (np.array[3x1]): yaw, pitch, roll  (in degrees)</p></li>
<li><p>quaternion (np.array[4x1]): w,x,y,z</p></li>
<li><p>orientedBounds(np.array[8x3])</p></li>
</ol>
</dd>
<dt>Returns:</dt><dd><p>rotationMatrix (np.array[3x3])</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.get_translation">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">get_translation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">array</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.get_translation" title="Link to this definition"></a></dt>
<dd><p>Get translation vector from various inputs.</p>
<dl class="simple">
<dt>Args:</dt><dd><ol class="arabic simple" start="0">
<li><p>cartesianTransform (np.array [4x4])</p></li>
<li><p>cartesianBounds (np.array[6x1])</p></li>
<li><p>orientedBounds(np.array[8x3])</p></li>
<li><p>Open3D geometry</p></li>
</ol>
</dd>
<dt>Raises:</dt><dd><p>ValueError: data.size !=6 (cartesianBounds), data.shape[1] !=3 (orientedBounds), data.size !=16 (cartesianTransform) or type != Open3D.geometry</p>
</dd>
<dt>Returns:</dt><dd><p>np.array[3x1]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.get_triangles_center">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">get_triangles_center</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mesh</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">open3d.geometry.TriangleMesh</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">triangleIndices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">array</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.get_triangles_center" title="Link to this definition"></a></dt>
<dd><p>Get the centerpoints of a set of mesh triangles.</p>
<dl>
<dt>Args:</dt><dd><ol class="arabic simple">
<li><p>mesh (o3d.geometry.TriangleMesh)</p></li>
<li><p>triangleIndices (List[int], optional): Indices to evaluate. Defaults to all triangles</p></li>
</ol>
</dd>
<dt>Raises:</dt><dd><p>ValueError: len(triangleIndices)&gt;len(mesh.triangles)</p>
<p>ValueError: all(x &gt; len(mesh.triangles) for x in triangleIndices)</p>
</dd>
<dt>Returns:</dt><dd><p>np.array[nx3] XYZ centers of triangles</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.ifc_to_mesh">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">ifc_to_mesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ifcElement</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ifcopenshell.entity_instance</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">open3d.geometry.TriangleMesh</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.ifc_to_mesh" title="Link to this definition"></a></dt>
<dd><p>Convert an ifcOpenShell geometry to an Open3D TriangleMesh.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>ifcElement (ifcopenshell.entity_instance): IfcOpenShell Element parsed from and .ifc file. See BIMNode for more documentation.</p>
</dd>
<dt>Raises:</dt><dd><p>ValueError: Geometry production error. This function throws an error if no geometry can be parsed for the ifcElement.</p>
</dd>
<dt>Returns:</dt><dd><p>o3d.geometry.TriangleMesh: Open3D Mesh Geometry of the ifcElment boundary surface</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.ifc_get_materials">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">ifc_get_materials</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ifcElements</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">ifcopenshell.entity_instance</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.ifc_get_materials" title="Link to this definition"></a></dt>
<dd><p>Get ifc materials from an ifcElement</p>
<dl class="simple">
<dt>Args:</dt><dd><p>ifcElements (List[ifcopenshell.entity_instance])</p>
</dd>
<dt>Returns:</dt><dd><p>List[str]: names of materials</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.img_to_arrays">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">img_to_arrays</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tasknr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">array</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.img_to_arrays" title="Link to this definition"></a></dt>
<dd><p>Convert an image from a file path to a tuple of 1 np.arrays and a tasknr (this function is used for multi-processing).</p>
<dl class="simple">
<dt>Args:</dt><dd><ol class="arabic simple">
<li><p>path (str): path to mesh file</p></li>
<li><p>tasknr(int,optional): tasknr used to keep the order in multiprocessing.</p></li>
</ol>
</dd>
<dt>Returns:</dt><dd><p>Tuple[img (np.array), tasknr (int)]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.join_geometries">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">join_geometries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geometries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">open3d.geometry.Geometry</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">open3d.geometry.Geometry</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.join_geometries" title="Link to this definition"></a></dt>
<dd><p>Join together a number of o3d geometries e.g. LineSet, PointCloud or o3d.TriangleMesh instances.</p>
<p><strong>NOTE</strong>: Only members of the same geometryType can be merged.</p>
<p><strong>NOTE</strong>: np.arrays can also be processed (these are processed as point clouds)</p>
<dl class="simple">
<dt>Args:</dt><dd><ul class="simple">
<li><p>geometries (List[o3d.geometry.Geometry]) : LineSet, PointCloud, OrientedBoundingBox, TriangleMesh or np.array[nx3]</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><p>merged o3d.geometries</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.las_to_pcd">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">las_to_pcd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">las</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">laspy.LasData</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transform</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">array</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">getColors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">getNormals</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">open3d.geometry.PointCloud</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.las_to_pcd" title="Link to this definition"></a></dt>
<dd><p>Converts a laspy point cloud to an open3d point cloud.</p>
<dl class="simple">
<dt>Args:</dt><dd><ol class="arabic simple">
<li><p>las (laspy.LasData): laspy point cloud.</p></li>
<li><p>transform (np.array[4x4], optional): offset transform i.e. to remove global coordinates. Defaults to None.</p></li>
<li><p>getColors (bool, optional): Defaults to True.</p></li>
<li><p>getNormals (bool, optional): Defaults to False.</p></li>
</ol>
</dd>
<dt>Returns:</dt><dd><p>o3d.geometry.PointCloud</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.las_add_extra_dimensions">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">las_add_extra_dimensions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">las</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">laspy.LasData</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recordData</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">['newField']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtypes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">['uint8']</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">laspy.LasData</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.las_add_extra_dimensions" title="Link to this definition"></a></dt>
<dd><p>Add one or more columns of data to an existing las point cloud file.</p>
<p>View laspy dimension and type formatting at <a class="reference external" href="https://laspy.readthedocs.io/en/latest/lessbasic.html">https://laspy.readthedocs.io/en/latest/lessbasic.html</a>.</p>
<p><strong>NOTE</strong>: to be tested</p>
<dl class="simple">
<dt>Args:</dt><dd><ol class="arabic simple">
<li><p>las (laspy.LasData): las point cloud (laspy API).</p></li>
<li><p>recordData (tuple with np.array[len(pcd.points)] or pandas.DataFrame): array or dataframe with len(columns) == len(pcd.points).</p></li>
<li><p>names (str, optional): dimension names. Defaults to [‘newField’].</p></li>
<li><p>dtypes (str, optional): types of the columns. Defaults to [“uint8”].</p></li>
</ol>
</dd>
<dt>Returns:</dt><dd><p>laspy.LasData: _description_</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.las_get_data">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">las_get_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">las</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">excludedList</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.las_get_data" title="Link to this definition"></a></dt>
<dd><p>Get all the relevant data from a las file i.e. the points, colors, intensity and user assigned values such as the classification or features.</p>
<dl>
<dt>Args:</dt><dd><p>las (laspy.Laspy): point cloud to extract the data from
indices (np.ndarray): array with indices to extract
excludedList (List[str], optional): List with point fields to exlude. []’X’, ‘Y’, ‘Z’,’red’, ‘green’, ‘blue’] should be removed as they are automatically assigned if present. Other values that are excluded are [‘X’, ‘Y’, ‘Z’,’red’, ‘green’, ‘blue’,’return_number’, ‘number_of_returns’, ‘synthetic’, ‘key_point’,</p>
<blockquote>
<div><p>‘withheld’, ‘overlap’, ‘scanner_channel’, ‘scan_direction_flag’,
‘edge_of_flight_line’, ‘user_data’, ‘scan_angle’, ‘point_source_id’, ‘gps_time’].</p>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>np.array (points,colors, user_defined_values)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.las_get_normals">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">las_get_normals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">las</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">laspy.LasData</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transform</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">array</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">array</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.las_get_normals" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.las_subsample">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">las_subsample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">las</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">laspy.LasData</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percentage</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">laspy.LasData</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.las_subsample" title="Link to this definition"></a></dt>
<dd><p>Subsample a las file given a percentage [0-1].</p>
<p>The order is assumed to be [‘X’,’Y’,’Z’,’red’,’green’,’blue’,’intensity’,’classification’]</p>
<p><strong>NOTE</strong>: if a classification is present, its maximum value must be &lt;32 (unit4) else the values are remapped</p>
<dl class="simple">
<dt>Args:</dt><dd><p>1.las ( laspy.LasData): las file
2.percentage (float, optional): percentage to downsample [0-1].</p>
</dd>
<dt>Returns:</dt><dd><p>laspy.lasdata: output las file</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.mesh_to_arrays">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">mesh_to_arrays</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tasknr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">array</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">array</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">array</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">array</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.mesh_to_arrays" title="Link to this definition"></a></dt>
<dd><p>Convert a mesh from a file path to a tuple of 4 np.arrays.</p>
<dl class="simple">
<dt>Features:</dt><dd><ol class="arabic simple" start="0">
<li><p>vertexArray,triangleArray,colorArray,normalArray,tasknr.</p></li>
</ol>
</dd>
<dt>Args:</dt><dd><ol class="arabic simple">
<li><p>path (str): path to mesh file.</p></li>
<li><p>tasknr(int,optional): tasknr used to keep the order in multiprocessing.</p></li>
</ol>
</dd>
<dt>Returns:</dt><dd><p>Tuple[np.array,np.array,np.array,int]: vertexArray,triangleArray,colorArray,normalArray,tasknr</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.create_visible_point_cloud_from_meshes">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">create_visible_point_cloud_from_meshes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geometries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">open3d.geometry.TriangleMesh</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">references</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">open3d.geometry.TriangleMesh</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">getNormals</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">open3d.geometry.PointCloud</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.create_visible_point_cloud_from_meshes" title="Link to this definition"></a></dt>
<dd><p>Returns a set of point clouds sampled on the geometries. Each point cloud has its points filtered to not lie within or collide with any of the reference geometries. As such, this method returns the <strong>visible</strong> parts of a set of sampled point clouds.</p>
<p>For every point cloud, the percentage of visibility is also reported. This method takes about 50s for 1000 geometries.</p>
<p>E.g. The figure shows the points of the visible point cloud that were rejected due to their proximity to the other mesh geometries.</p>
<img alt="../_images/invisible_points.PNG" src="../_images/invisible_points.PNG" />
<dl>
<dt>Args:</dt><dd><ol class="arabic simple">
<li><p>geometries (List[o3d.geometry.TriangleMesh]): Meshes that will be sampled up to the resolution.</p></li>
<li><p>references (List[o3d.geometry.TriangleMesh]): reference meshes that are used to spatially filter the sampled point clouds so only ‘visible’ points are retained. If some targget</p></li>
<li><p>resolution (float, optional): Spatial resolution to sample meshes. Defaults to 0.1m.</p></li>
</ol>
</dd>
<dt>Raises:</dt><dd><p>ValueError: any(‘TriangleMesh’ not in str(type(g)) for g in geometries )</p>
<p>ValueError: any(‘TriangleMesh’ not in str(type(g)) for g in references )</p>
</dd>
<dt>Returns:</dt><dd><p>Tuple[List[o3d.geometry.PointCloud], List[percentages [0-1.0]]] per geometry</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.mesh_to_trimesh">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">mesh_to_trimesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geometry</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">open3d.geometry.Geometry</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">trimesh.Trimesh</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.mesh_to_trimesh" title="Link to this definition"></a></dt>
<dd><p>Convert open3D.geometry.TriangleMesh to [trimesh.Trimesh](<a class="reference external" href="https://trimsh.org/trimesh.html">https://trimsh.org/trimesh.html</a>).</p>
<p><strong>NOTE</strong>: Only vertex_colors are implemented instead of face_colors with textures.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>geometry (Open3D.geometry): OrientedBoundingBox, AxisAlignedBoundingBox or TriangleMesh</p>
</dd>
<dt>Returns:</dt><dd><p>trimesh.Trimesh</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.mesh_get_lineset">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">mesh_get_lineset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geometry</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">open3d.geometry.TriangleMesh</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">array</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">array([0.66666667,</span> <span class="pre">0.84313725,</span> <span class="pre">0.31764706])</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">open3d.geometry.LineSet</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.mesh_get_lineset" title="Link to this definition"></a></dt>
<dd><p>Returns a lineset representation of a mesh.</p>
<dl class="simple">
<dt>Args:</dt><dd><ol class="arabic simple">
<li><p>geometry (open3d.geometry.trianglemesh): The mesh to convert.</p></li>
<li><p>color (np.array[3,], optional): The color to paint the lineset. Defaults to random color.</p></li>
</ol>
</dd>
<dt>Returns:</dt><dd><p>open3d.geometry.LineSet: the lineset from the mesh.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.normalize_vectors">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">normalize_vectors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.normalize_vectors" title="Link to this definition"></a></dt>
<dd><p>Normalize an set of vectors np.array(:,3) to unit vectors len(1).</p>
<dl class="simple">
<dt>Args:</dt><dd><p>array (np.array(:,3))
axis (int, optional): Defaults to -1.
order (int, optional): Defaults to 2.</p>
</dd>
<dt>Returns:</dt><dd><p>np.array(:,3)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.octree_to_voxelmesh">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">octree_to_voxelmesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">octree</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">open3d.geometry.Octree</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">open3d.geometry.TriangleMesh</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.octree_to_voxelmesh" title="Link to this definition"></a></dt>
<dd><p>Create a TriangleMesh from an octree.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>octree (o3d.geometry.Octree): size of each node will be used to scale the voxels.</p>
</dd>
<dt>Returns:</dt><dd><p>o3d.geometry.TriangleMesh</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.pcd_to_arrays">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">pcd_to_arrays</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percentage</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tasknr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">array</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">array</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">array</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.pcd_to_arrays" title="Link to this definition"></a></dt>
<dd><p>Convert a pcd from a pcd file to a tuple of 3 np.arrays.</p>
<dl class="simple">
<dt>Features:</dt><dd><ol class="arabic simple">
<li><p>[‘cartesianX’, ‘cartesianY’, ‘cartesianZ’]</p></li>
<li><p>[‘colorRed’, ‘colorGreen’, ‘colorBlue’]</p></li>
<li><p>[‘normalX’, ‘normalY’, ‘normalZ’]</p></li>
<li><p>tasknr (int): int to retrieve order in multiprocessing.</p></li>
</ol>
</dd>
<dt>Args:</dt><dd><ol class="arabic simple">
<li><p>path (str): path to .pcd file.</p></li>
<li><p>percentage (float,optional): downsampling ratio. defaults to 1.0 (100%).</p></li>
<li><p>tasknr (int): int to retrieve order in multiprocessing.</p></li>
</ol>
</dd>
<dt>Returns:</dt><dd><p>Tuple[np.array,np.array,np.array,np.array]: pointArray,colorArray,normalArray,tasknr</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.pcd_to_las">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">pcd_to_las</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pcd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">open3d.geometry.PointCloud</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">laspy.LasData</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.pcd_to_las" title="Link to this definition"></a></dt>
<dd><p>Convert a dataframe representing a point cloud to a las point cloud file.
View laspy dimension and type formatting at <a class="reference external" href="https://laspy.readthedocs.io/en/latest/lessbasic.html">https://laspy.readthedocs.io/en/latest/lessbasic.html</a>.</p>
<p>E.g.: las=dataframe_to_las(dataframe,rgb=[3,4,5])</p>
<dl class="simple">
<dt>Args:</dt><dd><p>1.dataframe (pd.DataFrame): data frame with a number of columns such as xyz, rgb and some scalar fields (conform numpy)
2.xyz (List[int], optional): Indices of the xyz coordinates in the dataframe. Defaults to [0,1,2].
3.rgb (List[int], optional): Indices of the color information in the dataframe e.g. [3,4,5]. Defaults to None.
4.dtypes (List[str], optional): types of the scalar fields that will be added e.g. [‘float32’,’uint8’]. Defaults to [float32] equal to the length of the scalar fields.</p>
</dd>
<dt>Returns:</dt><dd><p>laspy.lasdata: output las file</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.pcd_to_voxelmesh">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">pcd_to_voxelmesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pcd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">open3d.geometry.PointCloud</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voxel_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colorUse</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">open3d.geometry.TriangleMesh</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.pcd_to_voxelmesh" title="Link to this definition"></a></dt>
<dd><p>Create a TriangleMesh from a PointCloud.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>pcd (o3d.geometry.PointCloud):
voxel_size (float, optional): size of the voxels. Defaults to 0.4m.
colorUse (int, optional): If 0, the colors per voxel will be averaged. If 1, the dominant color per voxel will be retained (this is quite slow). Defaults to 0.</p>
</dd>
<dt>Returns:</dt><dd><p>o3d.geometry.TriangleMesh: _description_</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.pcd_get_normals">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">pcd_get_normals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pcd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">open3d.geometry.PointCloud</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.pcd_get_normals" title="Link to this definition"></a></dt>
<dd><p>Compute open3d point cloud normals if not already present.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>pcd (o3d.geometry.PointCloud)</p>
</dd>
<dt>Returns:</dt><dd><p>np.array:</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.preprocess_points_for_geometry">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">preprocess_points_for_geometry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">points</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thickness</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geomapi.utils.geometryutils.preprocess_points_for_geometry" title="Link to this definition"></a></dt>
<dd><p>Handles special cases: single point, colinear, and coplanar points.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.project_meshes_to_rgbd_images">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">project_meshes_to_rgbd_images</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">meshes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">open3d.geometry.TriangleMesh</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extrinsics</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">array</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intrinsics</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">array</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_black</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">array</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">array</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.project_meshes_to_rgbd_images" title="Link to this definition"></a></dt>
<dd><p>Project a set of meshes given camera parameters.</p>
<img alt="../_images/Raycasting_6.PNG" src="../_images/Raycasting_6.PNG" />
<dl>
<dt>Args:</dt><dd><p>1.meshes (List[o3d.geometry.TriangleMesh]): set of TriangleMeshes.</p>
<p>2.imgNodes (List[ImageNode]): should contain imageWidth,imageHeight,cartesianTransform and focalLength35mm</p>
<p>3.scale (float, optional): scale to apply to imagery (typically for downscaling). Defaults to 1.</p>
<p>4.fill_black (int, optional): Region to fill in black pixels. 5 is a good value.</p>
</dd>
<dt>Returns:</dt><dd><p>Tuple[List[np.array],List[np.array]]: colorImages,depthImages</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.rays_to_lineset">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">rays_to_lineset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rays</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distances</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">open3d.geometry.LineSet</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.rays_to_lineset" title="Link to this definition"></a></dt>
<dd><p>Convert an array or o3d.tensor to a lineset that can be visualized in open3d.</p>
<img alt="../_images/Raycasting_3.PNG" src="../_images/Raycasting_3.PNG" />
<dl>
<dt>Args:</dt><dd><p>1.rays (np.array[n,6] or o3d.core.Tensor): ray consisting of a startpoint np.array[n,0:3] and a direction np.array[n,3:6]</p>
<p>2.distances (float or np.array[n],Optional): distance/distances over which to cast each ray. Defaults to 1.0m.</p>
</dd>
<dt>Returns:</dt><dd><p>o3d.geometry.LineSet</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.rays_to_points">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">rays_to_points</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rays</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distances</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">array([1.])</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ndarray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.rays_to_points" title="Link to this definition"></a></dt>
<dd><p>Converts a set of rays to start-and endpoints.</p>
<dl class="simple">
<dt>Args:</dt><dd><ul class="simple">
<li><p>rays (np.array[n,6] or o3d.core.Tensor): ray consisting of a startpoint np.array[n,0:3] and a direction np.array[n,3:6].</p></li>
<li><p>distances (np.array[n], optional): scalar or array with distances of the ray. Defaults to 1.0m.</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><p>Tuple[np.array,np.array]: startpoints, endpoints</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.sample_geometry">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">sample_geometry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geometries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">open3d.geometry.Geometry</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">open3d.geometry.PointCloud</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.sample_geometry" title="Link to this definition"></a></dt>
<dd><p>Sample the surface, line or point cloud of an open3d object given a resolution.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>geometries (List[o3d.geometry.Geometry]): o3d.Geometry.LineSet,o3d.Geometry.TriangleMesh or o3d.Geometry.PointCloud
resolution (float, optional): spacing between sampled points. Defaults to 0.1m.</p>
</dd>
<dt>Returns:</dt><dd><p>List[o3d.geometry.PointCloud]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.save_dataframe_as_ply">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">save_dataframe_as_ply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">points</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mesh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_text</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comments</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geomapi.utils.geometryutils.save_dataframe_as_ply" title="Link to this definition"></a></dt>
<dd><p>Write a PLY file populated with the given fields.</p>
<dl class="simple">
<dt>Args:</dt><dd><ol class="arabic simple">
<li><p>filename (str) :The created file will be named with this</p></li>
<li><p>points (ndarray):</p></li>
<li><p>mesh (ndarray):</p></li>
<li><p>as_text (bool): Set the write mode of the file. Defaults to binary.</p></li>
<li><p>comments: list of string</p></li>
</ol>
</dd>
<dt>Returns</dt><dd><p>bool: True if no problems</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.save_view_point">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">save_view_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geometry</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">open3d.geometry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.save_view_point" title="Link to this definition"></a></dt>
<dd><p>Saves the viewpoint of a set of geometry in the given filename.</p>
<p><strong>NOTE</strong>: this is very inefficient -&gt; join geometries first</p>
<dl class="simple">
<dt>Args:</dt><dd><ol class="arabic simple">
<li><p>geometry (o3d.geometry): geometries to visualize.</p></li>
<li><p>filename (str): absolute filepath</p></li>
</ol>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.segment_pcd_by_connected_component">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">segment_pcd_by_connected_component</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pcd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">open3d.geometry.PointCloud</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.03</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minPoints</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">printProgress</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">open3d.geometry.PointCloud</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.segment_pcd_by_connected_component" title="Link to this definition"></a></dt>
<dd><p>Returns list of point clouds segmented by db_cluster DBSCAN algorithm Ester et al., ‘A Density-Based Algorithm for Discovering Clusters in Large Spatial Databases with Noise’, 1996.</p>
<dl class="simple">
<dt>Args:</dt><dd><ol class="arabic simple">
<li><p>pcd (o3d.geometry.PointCloud)</p></li>
<li><p>eps (float, optional): Density parameter that is used to find neighbouring points. Defaults to 0.03m.</p></li>
<li><p>minPoints (int, optional): Minimum number of points to form a cluster. Defaults to 10.</p></li>
<li><p>printProgress (bool)</p></li>
</ol>
</dd>
<dt>Raises:</dt><dd><p>ValueError: len(pcd.points)&lt;minPoints</p>
</dd>
<dt>Returns:</dt><dd><p>List[o3d.geometry.PointCloud]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.show_geometries">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">show_geometries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geometries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">open3d.geometry</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#geomapi.utils.geometryutils.show_geometries" title="Link to this definition"></a></dt>
<dd><p>Displays different types of geometry in a scene</p>
<p><strong>NOTE</strong>: this is very inefficient -&gt; join geometries first</p>
<dl class="simple">
<dt>Args:</dt><dd><p>geometries (List[open3d.geometry]): The list of geometries
color (bool, optional): recolor the objects to have a unique color. Defaults to False.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.split_pcd_by_labels">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">split_pcd_by_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">point_cloud</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">open3d.geometry.PointCloud</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">open3d.geometry.PointCloud</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.split_pcd_by_labels" title="Link to this definition"></a></dt>
<dd><p>Split a point cloud in parts to match a list of labels. The result is a set of point clouds, one for each unique label.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>point_cloud (o3d.geometry.PointCloud):
labels (np.ndarray): integer array with the same length as the point clouds</p>
</dd>
<dt>Returns:</dt><dd><p>Tuple[List[o3d.geometry.PointCloud],np.ndarray]: point clouds, unique labels</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.split_quad_faces">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">split_quad_faces</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">faces</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.split_quad_faces" title="Link to this definition"></a></dt>
<dd><p>Split an array of quad faces e.g. [[0,1,2,3]] into triangle faces e.g. [[0,1,2],[0,2,3]]</p>
<dl class="simple">
<dt>Args:</dt><dd><p>faces (np.ndarray[nx4])</p>
</dd>
<dt>Returns:</dt><dd><p>np.ndarray[2nx3]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.transform_dataframe">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">transform_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pandas.DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transform</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pointFields</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">['x',</span> <span class="pre">'y',</span> <span class="pre">'z',</span> <span class="pre">'Nx',</span> <span class="pre">'Ny',</span> <span class="pre">'Nz']</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.DataFrame</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.transform_dataframe" title="Link to this definition"></a></dt>
<dd><p>apply rigid body transformation to the 3D point coordinates[x,y,z] in a pandas dataFrame.</p>
<dl class="simple">
<dt>Args:</dt><dd><ol class="arabic simple">
<li><p>df (pd.DataFrame)</p></li>
<li><p>transform (np.array[4x4]): Rigid body transformation.</p></li>
<li><p>pointFields (List[str], optional): names of the dataFrame columns. Defaults to [‘x’, ‘y’, ‘z’,’Nx’, ‘Ny’, ‘Nz’].</p></li>
</ol>
</dd>
<dt>Raises:</dt><dd><p>ValueError: ‘No valid xyz data. Make sure column headers are names X,Y,Z’</p>
</dd>
<dt>Returns:</dt><dd><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.transform_points">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">transform_points</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">points</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transform</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.transform_points" title="Link to this definition"></a></dt>
<dd><p>Transform points with transformation matrix.</p>
<dl>
<dt>Args:</dt><dd><p>1.points (np.array(:,3)): points to transform</p>
<p>2.transform (np.array(4,4)): transformation Matrix</p>
</dd>
<dt>Returns:</dt><dd><p>np.array(:,3)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="geomapi.utils.geometryutils.voxelgrid_to_mesh">
<span class="sig-prename descclassname"><span class="pre">geomapi.utils.geometryutils.</span></span><span class="sig-name descname"><span class="pre">voxelgrid_to_mesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">voxel_grid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">open3d.geometry.VoxelGrid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voxel_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colorArray</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">array</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">open3d.geometry.TriangleMesh</span></span></span><a class="headerlink" href="#geomapi.utils.geometryutils.voxelgrid_to_mesh" title="Link to this definition"></a></dt>
<dd><p>Create a TriangleMesh from a voxelGrid.</p>
<img alt="../_images/pcd2.PNG" src="../_images/pcd2.PNG" />
<img alt="../_images/voxelgrid_1.PNG" src="../_images/voxelgrid_1.PNG" />
<dl class="simple">
<dt>Args:</dt><dd><p>voxel_grid (o3d.geometry.VoxelGrid):
voxel_size (float, optional): size of each voxel. Defaults to 0.4.
colorArray (np.array,optional): optional colorArray np.Array(len(voxels),3) from [0-1]</p>
</dd>
<dt>Returns:</dt><dd><p>o3d.geometry.TriangleMesh</p>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="geomapi.utils.cadutils.html" class="btn btn-neutral float-left" title="geomapi.utils.cadutils" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="geomapi.utils.geospatialutils.html" class="btn btn-neutral float-right" title="geomapi.utils.geospatialutils" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Bassier M., De Geyter S., De Winter H., Vermandere J. @ Geomatics KU Leuven.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>